(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-3392"],{"/6jC":function(t,e,n){"use strict";var i=n("oeYu");n.n(i).a},"4SCQ":function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxOCAxOCI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiMwMGU1ZmY7ZmlsbC1vcGFjaXR5OjA7fS5jbHMtMntmaWxsOiNkY2RkZTA7fTwvc3R5bGU+PC9kZWZzPjxnIGlkPSLlm77lsYJfMiIgZGF0YS1uYW1lPSLlm77lsYIgMiI+PGcgaWQ9IuWbvuWxgl8xLTIiIGRhdGEtbmFtZT0i5Zu+5bGCIDEiPjxyZWN0IGlkPSLnn6nlvaJfNTI1OSIgZGF0YS1uYW1lPSLnn6nlvaIgNTI1OSIgY2xhc3M9ImNscy0xIiB3aWR0aD0iMTgiIGhlaWdodD0iMTgiLz48cGF0aCBjbGFzcz0iY2xzLTIiIGQ9Ik05LDRBOC45Myw4LjkzLDAsMCwwLDEsOSw4Ljg4LDguODgsMCwwLDAsMTcsOSw5LDksMCwwLDAsOSw0Wm0wLDhhMywzLDAsMSwxLDMtM0EzLDMsMCwwLDEsOSwxMloiLz48Y2lyY2xlIGNsYXNzPSJjbHMtMiIgY3g9IjkiIGN5PSI5IiByPSIyIi8+PC9nPjwvZz48L3N2Zz4="},"7nhF":function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxOCAxOCI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiMwMGU1ZmY7ZmlsbC1vcGFjaXR5OjA7fS5jbHMtMntmaWxsOiNkY2RkZTA7fTwvc3R5bGU+PC9kZWZzPjxnIGlkPSLlm77lsYJfMiIgZGF0YS1uYW1lPSLlm77lsYIgMiI+PGcgaWQ9IuWbvuWxgl8xLTIiIGRhdGEtbmFtZT0i5Zu+5bGCIDEiPjxyZWN0IGlkPSLnn6nlvaJfNTI1OS0yIiBkYXRhLW5hbWU9IuefqeW9oiA1MjU5LTIiIGNsYXNzPSJjbHMtMSIgd2lkdGg9IjE4IiBoZWlnaHQ9IjE4Ii8+PHBhdGggY2xhc3M9ImNscy0yIiBkPSJNOC44OSw3QTIsMiwwLDAsMCw3LDguODlaIi8+PHBhdGggY2xhc3M9ImNscy0yIiBkPSJNMTAsNy4yOSw3LjI5LDEwQTIsMiwwLDEsMCwxMCw3LjI5WiIvPjxwYXRoIGNsYXNzPSJjbHMtMiIgZD0iTTYuMTIsOS43OUEzLDMsMCwwLDEsOS43OSw2LjEybDEuNzQtMS43NUE4LjgsOC44LDAsMCwwLDksNCw5LDksMCwwLDAsMSw5LDkuMTYsOS4xNiwwLDAsMCwzLjcsMTIuMloiLz48cGF0aCBjbGFzcz0iY2xzLTIiIGQ9Ik0xMi41Niw0Ljc2LDEwLjc1LDYuNTdhMywzLDAsMSwxLTQuMTgsNC4xOGwtMiwyQTguNzEsOC43MSwwLDAsMCw5LDE0YTksOSwwLDAsMCw4LTVBOS4xMiw5LjEyLDAsMCwwLDEyLjU2LDQuNzZaIi8+PHJlY3QgaWQ9IuefqeW9ol81MjkzIiBkYXRhLW5hbWU9IuefqeW9oiA1MjkzIiBjbGFzcz0iY2xzLTIiIHg9IjIuMzYiIHk9IjguMzciIHdpZHRoPSIxNCIgaGVpZ2h0PSIyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMy44OCA5LjM3KSByb3RhdGUoLTQ1KSIvPjwvZz48L2c+PC9zdmc+"},"9Pbu":function(t,e,n){var i=n("kN/w");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("1d903c90",i,!0,{})},"D+Bt":function(t,e,n){"use strict";var i=n("9Pbu");n.n(i).a},DwMt:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".text-error[data-v-bee5cd5e] {\n  color: red;\n}\n.text-warning[data-v-bee5cd5e] {\n  color: red;\n}\n",""])},"gDS+":function(t,e,n){t.exports={default:n("oh+g"),__esModule:!0}},goS2:function(t,e,n){"use strict";n.r(e);var i=n("gDS+"),s=n.n(i),a=n("QbLZ"),o=n.n(a),r={name:"LoginHint",props:{type:{type:String,default:"error"},text:{type:String,default:""}},data:function(){return{}},methods:{}},c=(n("/6jC"),n("KHd+")),l=Object(c.a)(r,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[t.text?t._t("prefix"):t._e(),t._v(" "),t.text?n("span",{class:"text-"+t.type},[t._v(t._s(t.text))]):t._e(),t._v(" "),t.text?t._t("suffix"):t._e()],2)},[],!1,null,"bee5cd5e",null);l.options.__file="hint.vue";var u=l.exports,p=n("L2JU");var h={name:"Login",components:{Hint:u},props:{},data:function(){return{hintType:"error",hintMsg:"",username:"",selectable:null,usernameHint:!1,password:"",inputType:"password",passwordHint:!1,willCache:!0,btnType:"primary",btnDisable:!1,checkedLogin:function(t){var e=localStorage.getItem("CurrentUser");e&&(t.$store.user.state.username||t.$store.dispatch("setInfo",e),t.$router.push({name:"RUNNING"}))}.bind(null,this),eyeOnSee:n("7nhF"),eyeUnSee:n("4SCQ")}},beforeMount:function(){window.addEventListener("storage",this.checkedLogin),this.$store.dispatch("removeInfo")},beforeDestroy:function(){window.removeEventListener("storage",this.checkedLogin)},methods:o()({},Object(p.b)({login:"Login"}),{queryValue:function(t,e){e(this.getAccount().filter(function(e){return!t||e.username.match(t)}))},handleSelector:function(t){this.username=t.username,this.password=t.password},getAccount:function(){return this.selectable||(this.selectable=JSON.parse(localStorage.getItem("AccountCache"))||[]),this.selectable},setAccount:function(){var t={username:this.username,password:this.password,passwordSec:new Array(this.password.length).fill("*").join("")};this.selectable||(this.selectable=[]);var e=this.selectable.findIndex(function(e){return e.username===t.username});e<0?this.selectable.push(t):this.selectable[e]=t,localStorage.setItem("AccountCache",s()(this.selectable))},signIn:function(){var t=this;if(!this.username)return this.errorHint("username should not be empty"),this.usernameHint=!0,!1;if(!this.password)return this.errorHint("password should not be empty"),this.passwordHint=!0,!1;var e=function(e){e?(t.willCache&&t.setAccount(),t.$router.push({name:"RUNNINNG"})):(t.errorHint("Incorrect username or password"),t.usernameHint=!0,t.passwordHint=!0)};this.login({username:this.username,password:this.password}).then(function(t){e(!0)}).catch(function(){e(!1)})},errorHint:function(t,e){this.hintType=e||"warning",this.hintMsg=t},errorHintHide:function(){this.hintMsg="",this.usernameHint=!1,this.passwordHint=!1},exchangeType:function(){"text"===this.inputType?this.inputType="password":this.inputType="text"}})},d=(n("D+Bt"),Object(c.a)(h,function(){var t,e,n,i=this,s=i.$createElement,a=i._self._c||s;return a("div",{staticClass:"app-container login-container flex flex-col flex-center"},[a("span",{staticClass:"title"},[i._v("Welcome to FATEBoard")]),i._v(" "),a("hint",{staticClass:"hint",class:(t={},t["hint_"+i.hintType]=!!i.hintMsg,t),attrs:{type:i.hintType,text:i.hintMsg}},[a("i",{class:"el-icon-"+i.hintType,attrs:{slot:"prefix"},slot:"prefix"})]),i._v(" "),a("el-autocomplete",{staticClass:"input",class:(e={},e["input_"+i.hintType]=i.usernameHint,e),attrs:{"fetch-suggestions":i.queryValue,size:"mini",placeholder:"Username/Email/Phone"},on:{select:i.handleSelector,input:i.errorHintHide},scopedSlots:i._u([{key:"default",fn:function(t){var e=t.item;return[a("div",{staticClass:"name"},[i._v(i._s(e.username))]),i._v(" "),a("span",{staticClass:"addr"},[i._v(i._s(e.passwordSec))])]}}]),model:{value:i.username,callback:function(t){i.username=t},expression:"username"}}),i._v(" "),a("el-input",{staticClass:"input",class:(n={},n["input_"+i.hintType]=i.passwordHint,n),attrs:{type:i.inputType,placeholder:"password",size:"mini"},on:{input:i.errorHintHide},model:{value:i.password,callback:function(t){i.password=t},expression:"password"}},[a("img",{staticClass:"eye_hint",attrs:{slot:"suffix",src:"text"===i.inputType?i.eyeOnSee:i.eyeUnSee},on:{click:i.exchangeType},slot:"suffix"})]),i._v(" "),a("el-checkbox",{staticClass:"checked",model:{value:i.willCache,callback:function(t){i.willCache=t},expression:"willCache"}},[i._v("remember me")]),i._v(" "),a("el-button",{staticClass:"btn",attrs:{type:i.btnType,disabled:i.btnDisable,size:"mini"},on:{click:i.signIn}},[i._v("Sign in")])],1)},[],!1,null,"2e358735",null));d.options.__file="index.vue";e.default=d.exports},"kN/w":function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".login-container[data-v-2e358735] {\n  height: 100%;\n  margin-top: 24px;\n}\n.login-container .title[data-v-2e358735] {\n    background: linear-gradient(159deg, #5e7feb 0%, #0ec7a5 100%);\n    -webkit-background-clip: text;\n    -webkit-text-fill-color: transparent;\n    font-size: 50px;\n    margin-top: 10%;\n}\n.login-container .hint[data-v-2e358735] {\n    min-height: 20px;\n    margin-top: 30px;\n}\n.login-container .hint i[data-v-2e358735] {\n      height: 100%;\n      margin-right: 12px;\n}\n.login-container .hint_error i[data-v-2e358735] {\n    color: #ff4f38 !important;\n}\n.login-container .hint_warning i[data-v-2e358735] {\n    color: #ff4f38 !important;\n}\n.login-container .input[data-v-2e358735] {\n    width: 30%;\n    min-width: 300px;\n    margin-top: 24px;\n}\n.login-container .input_error input[data-v-2e358735] {\n    border-color: #ffd1cb !important;\n}\n.login-container .input_warning input[data-v-2e358735] {\n    border-color: #ffd1cb !important;\n}\n.login-container .checked[data-v-2e358735] {\n    margin-top: 24px;\n}\n.login-container .btn[data-v-2e358735] {\n    margin-top: 48px;\n}\n.login-container .eye_hint[data-v-2e358735] {\n    width: 20px;\n    height: 100%;\n}\n",""])},oeYu:function(t,e,n){var i=n("DwMt");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("04a7041e",i,!0,{})},"oh+g":function(t,e,n){var i=n("WEpk"),s=i.JSON||(i.JSON={stringify:JSON.stringify});t.exports=function(t){return s.stringify.apply(s,arguments)}}}]);