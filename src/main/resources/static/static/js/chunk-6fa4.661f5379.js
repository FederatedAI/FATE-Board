(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-6fa4"],{"+998":function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDE4IDE4Ij4NCiAgPGRlZnM+DQogICAgPHN0eWxlPg0KICAgICAgLmNscy0xLCAuY2xzLTMgew0KICAgICAgICBmaWxsOiBub25lOw0KICAgICAgfQ0KDQogICAgICAuY2xzLTEgew0KICAgICAgICBzdHJva2U6ICNlOGU4ZWY7DQogICAgICAgIHN0cm9rZS13aWR0aDogMnB4Ow0KICAgICAgfQ0KDQogICAgICAuY2xzLTIgew0KICAgICAgICBzdHJva2U6IG5vbmU7DQogICAgICB9DQogICAgPC9zdHlsZT4NCiAgPC9kZWZzPg0KICA8ZyBpZD0i57uEXzE5MTQiIGRhdGEtbmFtZT0i57uEIDE5MTQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyODI1IDQ4OTApIj4NCiAgICA8ZyBpZD0i57uEXzE4MjYiIGRhdGEtbmFtZT0i57uEIDE4MjYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQzMjcgLTYzOCkiPg0KICAgICAgPGcgaWQ9IuakreWchl82MyIgZGF0YS1uYW1lPSLmpK3lnIYgNjMiIGNsYXNzPSJjbHMtMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE3MTUyIC00MjUyKSI+DQogICAgICAgIDxjaXJjbGUgY2xhc3M9ImNscy0yIiBjeD0iOSIgY3k9IjkiIHI9IjkiLz4NCiAgICAgICAgPGNpcmNsZSBjbGFzcz0iY2xzLTMiIGN4PSI5IiBjeT0iOSIgcj0iOCIvPg0KICAgICAgPC9nPg0KICAgICAgPGxpbmUgaWQ9IuebtOe6v18xMTYiIGRhdGEtbmFtZT0i55u057q/IDExNiIgY2xhc3M9ImNscy0xIiB4Mj0iNiIgeTI9IjYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xNzE0NiAtNDI0NikiLz4NCiAgICAgIDxsaW5lIGlkPSLnm7Tnur9fMTE3IiBkYXRhLW5hbWU9IuebtOe6vyAxMTciIGNsYXNzPSJjbHMtMSIgeDE9IjYiIHkyPSI2IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcxNDYgLTQyNDYpIi8+DQogICAgPC9nPg0KICA8L2c+DQo8L3N2Zz4NCg=="},"0snz":function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".scroller[data-v-2dab1a8e] {\n  position: relative;\n  overflow-y: auto;\n}\n.wrap[data-v-2dab1a8e] {\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  overflow: hidden;\n  position: relative;\n  width: 100%;\n}\n.item-view[data-v-2dab1a8e] {\n  width: 100%;\n}\n.scroller.ready .item-view[data-v-2dab1a8e] {\n  position: absolute;\n  top: 0;\n  left: 0;\n  will-change: transform;\n}\n",""])},"3zkT":function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".log-expanded[data-v-3e3666f0] {\n  height: calc(100% - 28px) !important;\n}\n.log-section[data-v-3e3666f0] {\n  width: calc(100% - 48px);\n  height: calc(100% - 93px);\n  position: absolute;\n  background: #fff;\n}\n.log-section .tip-choose[data-v-3e3666f0] {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    font-weight: 500;\n    margin-right: 24px;\n    padding: 0 5px 0 0;\n    line-height: 26px;\n    border-radius: 26px;\n    cursor: pointer;\n}\n.log-section .tip-choose .tip-content[data-v-3e3666f0] {\n      padding: 0 8px 0 0;\n      font-size: 14px;\n      color: #6a6c75;\n}\n.log-section .tip-choose .tip-count[data-v-3e3666f0] {\n      min-width: 16px;\n      height: 16px;\n      padding: 0 5px;\n      border-radius: 2px;\n      line-height: 16px;\n      text-align: center;\n      color: #fff;\n}\n.log-section .tip-choose .error[data-v-3e3666f0] {\n      background: #ff4f38;\n}\n.log-section .tip-choose .warning[data-v-3e3666f0] {\n      background: #fccf19;\n}\n.log-section .tip-choose .info[data-v-3e3666f0] {\n      background: #0ec7a5;\n}\n.log-section .tip-choose .debug[data-v-3e3666f0] {\n      background: #4159d1;\n}\n.log-section .tip-choose:hover .tip-content[data-v-3e3666f0] {\n      color: #4159d1;\n      text-decoration: underline;\n}\n.log-section .tip-choose-active .tip-content[data-v-3e3666f0] {\n    color: #4159d1;\n}\n.log-section .log-containers[data-v-3e3666f0] {\n    height: 100%;\n    padding: 0px 12px 0px 0px;\n    margin-top: 15px;\n    overflow: auto;\n    width: 100%;\n    position: relative;\n}\n",""])},"6Ix9":function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDE4IDE4Ij4NCiAgPGRlZnM+DQogICAgPHN0eWxlPg0KICAgICAgLmNscy0xLCAuY2xzLTMgew0KICAgICAgICBmaWxsOiBub25lOw0KICAgICAgfQ0KDQogICAgICAuY2xzLTEgew0KICAgICAgICBzdHJva2U6ICNlOGU4ZWY7DQogICAgICAgIHN0cm9rZS13aWR0aDogMnB4Ow0KICAgICAgfQ0KDQogICAgICAuY2xzLTIgew0KICAgICAgICBzdHJva2U6IG5vbmU7DQogICAgICB9DQogICAgPC9zdHlsZT4NCiAgPC9kZWZzPg0KICA8ZyBpZD0i57uEXzE5MTQiIGRhdGEtbmFtZT0i57uEIDE5MTQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC05NjYgLTU0MCkiPg0KICAgIDxnIGlkPSLmpK3lnIZfMjczIiBkYXRhLW5hbWU9IuakreWchiAyNzMiIGNsYXNzPSJjbHMtMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOTY2IDU0MCkiPg0KICAgICAgPGNpcmNsZSBjbGFzcz0iY2xzLTIiIGN4PSI5IiBjeT0iOSIgcj0iOSIvPg0KICAgICAgPGNpcmNsZSBjbGFzcz0iY2xzLTMiIGN4PSI5IiBjeT0iOSIgcj0iOCIvPg0KICAgIDwvZz4NCiAgICA8cGF0aCBpZD0i6Lev5b6EXzUxIiBkYXRhLW5hbWU9Iui3r+W+hCA1MSIgY2xhc3M9ImNscy0xIiBkPSJNMTEzMC4yLDM2OS41MThsMy44NzIsMy43MzEsNS45NDYtNS43MjciIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xNTkuOTg2IDE3OC43MykiLz4NCiAgPC9nPg0KPC9zdmc+DQo="},"9g82":function(t,e,n){"use strict";n.r(e);var i=n("QbLZ"),o=n.n(i),a=n("L2JU"),r=n("Ntdr"),s=n("GQeE"),l=n.n(s),c={name:"DatasetInfo",components:{OverflowTooltip:n("dyDN").a},props:{list:{type:Array,default:function(){return[]}}},methods:{selectChange:function(t,e){t.roleValue=e,this.$forceUpdate()}}},h=(n("a6ns"),n("KHd+")),u=Object(h.a)(c,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex flex-col col dataset-info"},[n("h3",{staticClass:"list-title"},[t._v("Dataset info")]),t._v(" "),t._l(t.list,function(e,i){return n("el-row",{key:i,staticClass:"dataset-row",attrs:{gutter:24}},[n("el-col",{attrs:{span:6}},[n("div",{staticClass:"dataset-item"},[n("p",{staticClass:"name dataset-title"},[t._v(t._s(e.role))]),t._v(" "),1===e.options.length?n("p",{staticClass:"value"},[t._v(t._s(e.roleValue))]):n("el-select",{attrs:{value:e.roleValue},on:{change:function(n){t.selectChange(e,n)}}},t._l(e.options,function(t,e){return n("el-option",{key:e,attrs:{value:t.value,label:t.label}})}))],1)]),t._v(" "),n("el-col",{attrs:{span:14}},[n("div",{staticClass:"dataset-item"},[n("p",{staticClass:"name"},[t._v("dataset")]),t._v(" "),n("p",{staticClass:"value"},[n("overflow-tooltip",{attrs:{"tooltip-options":{popperClass:"tooltip-content"},placement:"top"}},[n("template",{slot:"content"},t._l(e.datasetData[e.roleValue]||[],function(e,i){return n("p",{key:i},[t._v(t._s(e))])})),t._v(" "),n("span",{staticClass:"toolContent",attrs:{slot:"default"},slot:"default"},[t._v(t._s(e.datasetData?Object.values(e.datasetData[e.roleValue]).join(", "):""))])],2)],1)])])],1)})],2)},[],!1,null,null,null);u.options.__file="DatasetInfo.vue";var d=u.exports,p=n("m1cH"),f=n.n(p),g=n("P2sY"),v=n.n(g),m=n("7Qib"),y=n("FyfS"),b=n.n(y),x=n("mWkO"),I=10,w=5,C=10,T="#e8e8ef",S="Arial",A={drawPanel:function(t,e,n){return t.canvas=e?e.$canvas:t.canvas,t.path=k,e?(n||(n=x.a.getUUID("trangle")),e.drawLayer(n,t),n):new x.a(t)},events:{progress:function(t){var e=this;e.registerChainTranslate("progress",!1,e.settingNum(e.progress,t,function(t){e.progress=t},200))},setTime:function(t){var e=this;e.setCus("setTime",function(){e.time=N(t)})}}};function N(t){if(t.toString().match(":"))return t;if(!t)return"00:00:00";var e=Math.round(t/1e3),n=e%60,i=(e-n)/60,o=i%60,a=(i-o)/60;return n<10&&(n="0"+n),o<10&&(o="0"+o),a<10&&(a="0"+a),a+":"+o+":"+n}function _(t,e,n,i){!(arguments.length>4&&void 0!==arguments[4])||arguments[4]?(t.strokeStyle=function(t,e,n,i){var o=t.createLinearGradient(e.x,e.y,n.x,n.y),a=!0,r=!1,s=void 0;try{for(var l,c=b()(i);!(a=(l=c.next()).done);a=!0){var h=l.value;o.addColorStop(h.pos,h.color)}}catch(t){r=!0,s=t}finally{try{!a&&c.return&&c.return()}finally{if(r)throw s}}return o}(t,{x:e.x,y:e.y},{x:e.x+i,y:e.y},[{pos:0,color:"rgba(73, 78, 206, 0.6)"},{pos:1,color:"#24b68b"}]),t.lineWidth=10,t.lineCap="butt"):(t.lineWidth=2,t.lineCap="butt",t.strokeStyle=T);var o=Math.sin(Math.PI/4),a=Math.cos(Math.PI/4),r=e.x+o*n,s=e.y+a*n;return t.beginPath(),t.moveTo(e.x,e.y),t.arc(r,s,n,1.25*Math.PI,1.75*Math.PI),t.stroke(),n}function D(t,e,n,i){return{x:t+i*Math.sin(2*Math.PI*n/360),y:e+i*Math.cos(2*Math.PI*n/360)}}var k=function(){var t=this,e=t.$ctx;t.width=t.width,t.progress=t.progress||0,t.content=t.content||"elapsad",t.time=N(t.time)||"00:00:00",t.x=t.x||0,t.r=(t.width-2*t.x)/2/Math.sin(Math.PI/4),t.y=t.y||t.r-(t.width-2*t.x)/2+6,_(e,{x:t.x,y:t.y},t.r,t.width),function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:C,o=arguments[4],a=arguments[5],r=arguments[6],s=Math.sin(90*Math.PI/360)*o,l=Math.cos(90*Math.PI/360)*o,c=a.x,h=a.y,u=function(a){!function(){var u=a;if(0!==u){var d=Math.sin(2*(45-9*u)*Math.PI/360)*o,p=Math.cos(2*(45-9*u)*Math.PI/360)*o;c+=s-d,h+=l-p,s=d,l=p}var f=D(c,h,45-9*u,e),g=D(f.x,f.y,45-9*u,n),v=D(g.x,g.y,45-9*u,i);t.beginPath(),t.moveTo(f.x,f.y),t.lineTo(g.x,g.y),t.strokeStyle=T,t.lineWidth=1,t.stroke(),t.beginPath(),t.textAlign="center",t.textBaseLine="middle",t.fillStyle="#494ece",t.font=r+"px "+S,t.fillText(10*u,v.x,v.y)}()},d=0;d<11;d++)u(d)}(e,I,w,C,t.r,{x:t.x,y:t.y},10);var n=I+w+C+25;_(e,{x:t.x+Math.sin(Math.PI/4)*n,y:t.y+Math.cos(Math.PI/4)*n},t.r-n,t.width-Math.sin(Math.PI/4)*n*2,!1);var i=90*t.progress/100,o=Math.sin(90*Math.PI/360)*t.r,a=Math.cos(90*Math.PI/360)*t.r,r=t.x,s=t.y,l=D(r+=o-Math.sin(2*(45-i)*Math.PI/360)*t.r,s+=a-Math.cos(2*(45-i)*Math.PI/360)*t.r,45-i,n-10),c=D(l.x,l.y,45-i,30);e.beginPath(),e.moveTo(l.x,l.y),e.lineTo(c.x,c.y),e.strokeStyle="#494ece",e.lineWidth=1,e.stroke();var h=t.x+Math.sin(Math.PI/4)*t.r,u=t.y+Math.cos(Math.PI/4)*n-14;e.fillStyle="#bbbbc8",e.font="13px "+S,e.textAlign="center",e.textBaseLine="middle",e.fillText(t.content,h,u);var d=h,p=u+14+4;e.fillStyle="#494ece",e.font="16px "+S,e.fillText(t.time,d,p);var f=h,g=p+16+16+18,v=Math.round(t.progress)+"%";e.fillStyle="#494ece",e.font="bold 36px "+S,e.fillText(v,f,g)},E={name:"Panel",props:{progress:{type:Number,default:0},time:{type:Number|String,default:"00:00:00"}},data:function(){return{component:null,canvas:null}},watch:{progress:function(t,e){this.changeStatus(t)},time:function(t,e){this.setTime(t)}},mounted:function(){this.initing()},methods:{initing:function(){var t=this,e=document.getElementById("canvas");this.canvas=new x.a.CanvasUtil(e,{click:!1,mousemove:!1,mousedown:!1,mouseup:!1},function(){return t.getInstance(e),t.component.drawing(),t.component})},getInstance:function(t){this.component=A.drawPanel({canvas:document.getElementById("canvas"),props:{width:t.width,progress:this.progress,time:this.time,content:"elapsed",x:.3*t.width/2},clear:A.clear,events:A.events})},changeStatus:function(t){t>this.component.progress&&this.component.emit("progress",t)},setTime:function(t){this.component.emit("setTime",t)}}},$=(n("rVsi"),Object(h.a)(E,function(){var t=this.$createElement;return(this._self._c||t)("canvas",{attrs:{id:"canvas"}})},[],!1,null,"5e75adbf",null));$.options.__file="index.vue";var z=$.exports,P=n("ZU66"),M=n("dv4G"),L={filters:{formatSeconds:m.c},components:{Panel:z,Confirm:P.a},props:{data:{type:Object,default:function(){return{}}}},data:function(){return{}},computed:o()({},Object(a.c)(["icons"]),{jobStatus:function(){return this.data.status||""},isDone:function(){return["success","complete","failed","canceled"].includes(this.jobStatus)},isDoing:function(){return["waiting","running"].includes(this.jobStatus)},confirmText:function(){return this.isDone?["The job will continue from where it "+this.jobStatus,""]:this.isDoing?["Are you sure you want to "+(this.jobStatus,"cancel")+" this job?","You can't undo this action，it may take few seconds to  update job status."]:["",""]},query:function(){return{job_id:this.$route.query.job_id,component_name:"pipeline"}}}),methods:{toDetails:function(){var t=o()({},this.query,{role:this.$route.query.role,party_id:this.$route.query.party_id,from:"Dashboard"});delete t.component_name,this.$router.push({path:"/details",query:t})},killJob:function(){var t=this;if(this.isDoing){var e,n=v()({},this.query);delete n.component_name,(e=this.$refs.confirm).confirm.apply(e,f()(this.confirmText)).then(function(){Object(M.f)(n).then(function(){t.$emit("stop",t.jobStatus?"cancel":"kill")})})}},retryJob:function(){var t,e=this;(t=this.$refs.confirm).confirm.apply(t,f()(this.confirmText)).then(function(){Object(M.i)(e.query).then(function(){e.$emit("retry")})})}}},R=(n("iooT"),Object(h.a)(L,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col job flex-center justify-center pos-r"},[n("h3",{staticClass:"list-title"},[t._v("Job")]),t._v(" "),t.isDone?n("div",{staticClass:"job-end-container flex flex-col flex-center"},[n("img",{key:t.jobStatus,staticClass:"job-icon",attrs:{src:"success"===t.jobStatus||"complete"===t.jobStatus?t.icons.normal.success:t.icons.normal.failed,alt:""}}),t._v(" "),n("ul",{staticClass:"job-info flex space-around flex-wrap w-100"},[n("li",[n("p",{staticClass:"name"},[t._v("status")]),t._v(" "),n("p",{staticClass:"value"},[t._v(t._s(t.jobStatus))])]),t._v(" "),t.data.elapsed?n("li",[n("p",{staticClass:"name"},[t._v("duration")]),t._v(" "),n("p",{staticClass:"value"},[t._v(t._s(t._f("formatSeconds")(t.data.elapsed)))])]):t._e(),t._v(" "),t.data.auc?n("li",[n("p",{staticClass:"name overflow-ellipsis"},[t._v("best score(AUC)")]),t._v(" "),n("p",{staticClass:"value"},[t._v(t._s(t.data.auc))])]):t._e(),t._v(" "),t.data.ratio?n("li",[n("p",{staticClass:"name"},[t._v("ratio")]),t._v(" "),n("p",{staticClass:"value"},[t._v(t._s(t.data.ratio))])]):t._e(),t._v(" "),t.data.count?n("li",[n("p",{staticClass:"name"},[t._v("count")]),t._v(" "),n("p",{staticClass:"value"},[t._v(t._s(t.data.count))])]):t._e()])]):t.isDoing?n("div",{staticClass:"echarts-container"},[n("panel",{staticClass:"echarts",attrs:{progress:t.data.progress,time:t.data.time}})],1):t._e(),t._v(" "),n("div",{staticClass:"btn-wrapper flex flex-col flex-center pos-a"},[n("el-button",{ref:"jobDetails",staticClass:"detail-entry-button",attrs:{type:"primary",round:""},on:{click:t.toDetails}},[n("span",[t._v("view this job")]),t._v(" "),n("i",{staticClass:"arrow"})]),t._v(" "),t.isDone&&"success"!==t.jobStatus&&"complete"!==t.jobStatus?n("p",{staticClass:"kill text-primary pointer",staticStyle:{"margin-top":"10px"},on:{click:t.retryJob}},[t._v("retry")]):t._e(),t._v(" "),t.isDoing?n("p",{staticClass:"kill text-primary pointer",on:{click:t.killJob}},[t._v("cancel")]):t._e()],1),t._v(" "),n("confirm",{ref:"confirm"})],1)},[],!1,null,"58d4d1d5",null));R.options.__file="Job.vue";var U=R.exports,j=n("lBxe"),O=n("tH+O"),B={components:{IconHoverAndActive:O.default,Dag:j.a},props:{dagData:{type:Object,default:null}},data:function(){return{showGraph:!1}},computed:o()({},Object(a.c)(["icons"])),methods:{zoomOut:function(){this.showGraph=!0}}},F=Object(h.a)(B,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col graph flex-center justify-center"},[n("div",{staticClass:"flex flex-row space-between"},[n("h3",{staticClass:"list-title"},[t._v("Graph")]),t._v(" "),n("icon-hover-and-active",{attrs:{"class-name":"img-wrapper","default-url":t.icons.normal.fullscreen,"hover-url":t.icons.hover.fullscreen,"active-url":t.icons.active.fullscreen},on:{clickFn:t.zoomOut}})],1),t._v(" "),t.dagData?n("div",{staticClass:"wrapper w-100 pointer"},[n("dag",{attrs:{id:"graphCanvas","dag-info":t.dagData,thumbnail:!0,"pure-pic":!0,"operation-list":!1}})],1):t._e(),t._v(" "),n("el-dialog",{attrs:{visible:t.showGraph,"close-on-click-modal":!1,width:"50%",top:"10vh"},on:{"update:visible":function(e){t.showGraph=e}}},[n("h3",{staticClass:"list-title t-a-c",staticStyle:{"font-size":"14px",color:"#3E4052"},attrs:{slot:"title"},slot:"title"},[t._v("GRAPH")]),t._v(" "),t.dagData?n("div",{staticClass:"wrapper w-100",staticStyle:{width:"100%",height:"70vh",position:"relative"}},[n("dag",{ref:"purePicBigerDag",attrs:{id:"dialogCanvas","dag-info":t.dagData,"pure-pic":!0}})],1):t._e()])],1)},[],!1,null,null,null);F.options.__file="Graph.vue";var G=F.exports,W={props:{jobId:{type:String,default:""},role:{type:String,default:""},partyId:{type:String,default:""}}},H=n("V/pm"),Z=n("DzJC"),Y=n.n(Z),J={GUEST:1,HOST:2,ARBITER:3},K={components:{DatasetInfo:d,Job:U,Graph:G},mixins:[W],data:function(){return{loading:!1}},computed:o()({},Object(a.c)("job",{oldJobId:"jobId"}),Object(a.d)("job",["job"]),{datasetInfo:function(){var t=this.job&&this.job.summary_date&&this.job.summary_date.dataset;return t?function(t){var e=t.roles,n=t.dataset,i=l()(e).map(function(t){var i=e[t].map(function(t){return{value:t,label:t}});return{role:t.toUpperCase(),options:i,roleValue:i[0].label,datasetData:n[t]||""}});return i.sort(function(t,e){return function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}(J[t.role],J[e.role])}),i}(t):[]},jobDetail:function(){var t=this.job&&this.job.summary_date&&this.job.summary_date.job;return t?{status:t.fStatus||this.job.status,elapsed:t.fElapsed,progress:t.fProgress||this.job.progress||0,time:this.job.duration}:{}},DAGData:function(){return this.job&&this.job.dependency_data}}),watch:{$route:{handler:function(){this.$route.query.job_id!==this.oldJobId&&this.cleanJob(),this.job&&this.isDone(this.job.status)||this.initJobSocket()},immediate:!0}},created:function(){this.handleMessage=Y()(this.handleMessage,900,{leading:!0})},beforeDestroy:function(){this.ws&&this.ws.close()},methods:o()({},Object(a.b)("job",["updateJob","cleanJob"]),{initJobSocket:function(){var t=this;if(!this.ws){var e=this.jobId,n=this.role,i=this.partyId;e&&n&&i||console.warn("Missing required parameters"),this.ws=new H.a("/websocket/progress/"+e+"/"+n+"/"+i),this.loading=!0,this.ws.addEventListener("message",function(e){t.loading=!1;var n=void 0;try{n=JSON.parse(e.data)}catch(e){return n=null,void t.ws.close()}t.handleMessage(n)})}return this.ws},isDone:function(t){return["success","complete","failed","canceled"].includes(t)},handleMessage:function(t){this.isDone(t.status)&&this.ws&&this.ws.close(),this.updateJob(t)},onStop:function(t){this.ws.close(),this.ws=null,this.initJobSocket()},onRetry:function(){this.ws&&(this.ws.close(),this.ws=null),this.initJobSocket()}})},Q=(n("cDij"),Object(h.a)(K,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-row",{staticClass:"dash-board-list",attrs:{gutter:24}},[n("el-col",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{span:8}},[n("dataset-info",{attrs:{list:t.datasetInfo}})],1),t._v(" "),n("el-col",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{span:8}},[n("job",{attrs:{data:t.jobDetail},on:{stop:t.onStop,retry:t.onRetry}})],1),t._v(" "),n("el-col",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{span:8}},[n("graph",{attrs:{"dag-data":t.DAGData}})],1)],1)},[],!1,null,null,null));Q.options.__file="Board.vue";var X,V=Q.exports,q=n("Dbz9"),tt=n.n(q),et=n("gDS+"),nt=n.n(et),it=n("YEIV"),ot=n.n(it),at=n("cU3k"),rt=["partyError","partyWarning","partyInfo","partyDebug","jobSchedule","jobError"],st=rt[0],lt=rt[1],ct=rt[2],ht=rt[3],ut=rt[4],dt=rt[5],pt=(X={logSize:"logSize",log:"log"},ot()(X,st,"log"),ot()(X,lt,"log"),ot()(X,ct,"log"),ot()(X,ht,"log"),ot()(X,ut,"log"),ot()(X,dt,"log"),X);function ft(t,e){for(var n=arguments.length,i=Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];return o()({tabs:t,current:e},i)}var gt={components:{IconHoverAndActive:O.default,Log:at.a},filters:{capitalize:function(t){return t.substring(0,1).toUpperCase()+t.substring(1)}},props:{ids:{type:Object,default:function(){return{}}}},data:function(){var t,e;return{currentMainTab:"algorithm",algorithmTab:ft((t={},ot()(t,st,"error"),ot()(t,lt,"warning"),ot()(t,ct,"info"),ot()(t,ht,"debug"),t),ct),scheduleTab:ft((e={},ot()(e,ut,"info"),ot()(e,dt,"error"),e),ut),logs:{},counts:{},logSizeHasRecevied:!1,expandAll:!1}},computed:o()({},Object(a.c)(["icons"]),{LOG_TYPES:function(){return rt},mainTabs:function(){return{algorithm:this.algorithmTab,schedule:this.scheduleTab}},currentLogType:function(){return this.mainTabs[this.currentMainTab]&&this.mainTabs[this.currentMainTab].current}}),watch:{logSizeHasRecevied:function(t){t&&this.onPull(this.currentLogType)},counts:{handler:function(t,e){for(var n in t)t.hasOwnProperty(n)&&t[n]!==e[n]&&n===this.currentLogType&&this.onPull(n,!1)},deep:!0}},created:function(){this.initLogSocket()},beforeDestroy:function(){this.ws&&this.ws.close()},methods:{changeMainTab:function(t){this.currentMainTab!==t&&(this.currentMainTab=t,this.shouldInitLogByType(this.currentLogType))},changeSubTab:function(t){this.currentLogType!==t&&(this.mainTabs[this.currentMainTab].current=t,this.shouldInitLogByType(t))},shouldInitLogByType:function(t){return!this.logs[t]&&this.onPull(t)},initLogSocket:function(){var t=this;if(!this.ws){var e=this.ids,n=e.jobId,i=e.role,o=e.partyId;n&&i&&o||console.warn("Missing required parameters"),this.ws=new H.a("/log/new/"+n+"/"+i+"/"+o+"/default"),this.ws.addEventListener("message",function(e){t.handleLogMessage(JSON.parse(e.data))})}return this.ws},handleLogMessage:function(t){switch(pt[t.type]){case"logSize":this.handleLogSizeResponse(t.data);break;case"log":this.insertLogs(t)}},handleLogSizeResponse:function(t){this.logSizeHasRecevied||(this.logSizeHasRecevied=!0),this.setLogSize(t)},setLogSize:function(t){this.counts=v()({},this.counts,t)},onPull:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.counts[t],i=this.logs[t]||[],o=void 0,a=void 0;if(i.length?e?(a=i[0].lineNum-1,o=Math.max(1,a-50)):(o=i[i.length-1].lineNum+1,a=n):(a=n,o=Math.max(a-50,1)),n>0){if(a<o)return;this.ws&&this.ws.send(nt()({type:t,begin:o,end:a}))}else this.logs[t]=[]},insertLogs:function(t){var e=t.type,n=t.data,i=this.logs[e]||[],a=[];if(i.length){var r=this.getLogsRange(n),s=this.getLogsRange(i);if(r[0]>s[1])a=a.concat(i,n);else if(r[1]<s[0])a=a.concat(n,i);else{var l,c=Math.max(r[0],s[0]),h=Math.min(r[1],s[1]),u=i.findIndex(function(t){return t.lineNum===c}),d=i.findIndex(function(t){return t.lineNum===h});(l=a=i.slice()).splice.apply(l,[u,d-u+1].concat(f()(n)))}}else a=n;a=a.map(function(t){return tt()(t)}),this.logs=o()({},this.logs,ot()({},e,a))},getLogsRange:function(t){return[t[0].lineNum,t[t.length-1].lineNum]},handleScrollTop:function(t){this.onPull(t)},toggle:function(){var t=this;this.expandAll=!this.expandAll,this.expandAll&&this.$nextTick(function(){t.$el.scrollIntoView()})}}},vt=(n("rs0g"),Object(h.a)(gt,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"log-wrapper",class:{"log-expanded":t.expandAll}},[n("div",{staticClass:"log-type flex flex-row"},t._l(t.mainTabs,function(e,i){return n("span",{key:i,staticClass:"type-name",class:{"type-name-active":t.currentMainTab===i},on:{click:function(e){t.changeMainTab(i)}}},[t._v(t._s(t._f("capitalize")(i))+" Log")])})),t._v(" "),n("section",{staticClass:"log-section flex flex-col"},[n("div",{staticClass:"flex flex-row flex-start"},t._l(t.mainTabs[t.currentMainTab].tabs,function(e,i){return n("div",{key:i,staticClass:"tip-choose flex flex-row",class:{"tip-choose-active":t.currentLogType===i},on:{click:function(e){t.changeSubTab(i)}}},[n("span",{staticClass:"tip-content"},[t._v(t._s(e))]),t._v(" "),t.counts[i]>0?n("span",{staticClass:"tip-count",class:e},[t._v(t._s(t.counts[i]))]):t._e()])})),t._v(" "),n("div",{staticClass:"log-containers"},t._l(t.LOG_TYPES,function(e){return n("log",{directives:[{name:"show",rawName:"v-show",value:t.currentLogType===e,expression:"currentLogType === type"}],key:e,attrs:{logs:t.logs[e]},on:{"scroll-top":function(n){t.handleScrollTop(e)}}})}))]),t._v(" "),n("div",{ref:"checklog",staticClass:"log-extend flex flex-center justify-center"},[n("icon-hover-and-active",{directives:[{name:"show",rawName:"v-show",value:t.expandAll,expression:"expandAll"}],attrs:{"default-url":t.icons.normal.dashBoardFold,"hover-url":t.icons.hover.dashBoardFold,"active-url":t.icons.active.dashBoardFold},on:{clickFn:t.toggle}}),t._v(" "),n("icon-hover-and-active",{directives:[{name:"show",rawName:"v-show",value:!t.expandAll,expression:"!expandAll"}],attrs:{"default-url":t.icons.normal.dashBoardUnfold,"hover-url":t.icons.hover.dashBoardUnfold,"active-url":t.icons.active.dashBoardUnfold},on:{clickFn:t.toggle}})],1)])},[],!1,null,"3e3666f0",null));vt.options.__file="Logs.vue";var mt=vt.exports,yt={components:{BreadcrumbExt:r.a,Board:V,Logs:mt},computed:o()({},Object(a.c)(["icons"]),{jobId:function(){return this.$route.query.job_id},role:function(){return this.$route.query.role},partyId:function(){return this.$route.query.party_id},ids:function(){return{jobId:this.jobId,role:this.role,partyId:this.partyId}}})},bt=(n("lJfc"),Object(h.a)(yt,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"dashboard-container bg-dark app-container"},[e("breadcrumb-ext",{attrs:{breads:[{type:"content",val:"Dashboard"},{type:"content",val:"Job: "+this.jobId}]}}),this._v(" "),e("board",this._b({},"board",this.ids,!1)),this._v(" "),e("logs",{attrs:{ids:this.ids}})],1)},[],!1,null,null,null));bt.options.__file="index.vue";e.default=bt.exports},C10x:function(t,e,n){var i=n("sEG9");(t.exports=n("I1BE")(!1)).push([t.i,".detail-entry-button[data-v-58d4d1d5] {\n  position: relative;\n}\n.detail-entry-button[data-v-58d4d1d5]:hover {\n    background-color: #494ece !important;\n    color: #fff !important;\n}\n.detail-entry-button[data-v-58d4d1d5]:active {\n    background-color: #3135a6 !important;\n    color: #fff !important;\n}\n.detail-entry-button .arrow[data-v-58d4d1d5] {\n    display: inline-block;\n    width: 12px;\n    height: 12px;\n    vertical-align: bottom;\n    background-image: url("+i(n("ujiL"))+");\n    background-size: 100% auto;\n}\n.detail-entry-button:hover .arrow[data-v-58d4d1d5] {\n    background-image: url("+i(n("p4fm"))+");\n}\n",""])},C98N:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".log-content[data-v-4d72c288] {\n  height: 100%;\n  white-space: pre-wrap;\n  font-family: 'lucon', 'Lucida Console', Monaco, monospace, 'Arial';\n}\n.log-contents[data-v-4d72c288] {\n  height: 100%;\n  overflow-y: auto;\n  overflow-x: hidden;\n  position: absolute;\n  width: 100%;\n  background: #fff;\n}\n.log-contents .log-lineNum[data-v-4d72c288] {\n    font-family: 'lucon', 'Lucida Console', Monaco, monospace, 'Arial';\n    color: #c6c8cc;\n    min-width: 50px;\n    margin-right: 20px;\n    font-size: 12px;\n    text-align: left;\n    line-height: 20px;\n}\n.log-contents .log-content[data-v-4d72c288] {\n    color: #999ba3;\n    font-size: 12px;\n    text-align: left;\n    text-indent: initial;\n    line-height: 20px;\n}\n.log-tip[data-v-4d72c288] {\n  width: 100%;\n  text-align: center;\n  color: #999ba3;\n}\n",""])},Do9X:function(t,e,n){var i=n("N97a");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("5b0c9170",i,!0,{})},DzJC:function(t,e,n){var i=n("sEfC"),o=n("GoyQ"),a="Expected a function";t.exports=function(t,e,n){var r=!0,s=!0;if("function"!=typeof t)throw new TypeError(a);return o(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),i(t,e,{leading:r,maxWait:e,trailing:s})}},EYjE:function(t,e,n){var i=n("C98N");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("96000c26",i,!0,{})},N97a:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},NdWW:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDE4IDE4Ij4NCiAgPGRlZnM+DQogICAgPHN0eWxlPg0KICAgICAgLmNscy0xLCAuY2xzLTMgew0KICAgICAgICBmaWxsOiBub25lOw0KICAgICAgfQ0KDQogICAgICAuY2xzLTEgew0KICAgICAgICBzdHJva2U6ICMyNGI2OGI7DQogICAgICAgIHN0cm9rZS13aWR0aDogMnB4Ow0KICAgICAgfQ0KDQogICAgICAuY2xzLTIgew0KICAgICAgICBzdHJva2U6IG5vbmU7DQogICAgICB9DQogICAgPC9zdHlsZT4NCiAgPC9kZWZzPg0KICA8ZyBpZD0i57uEXzE5MTUiIGRhdGEtbmFtZT0i57uEIDE5MTUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC05NjYgLTU5OCkiPg0KICAgIDxnIGlkPSLmpK3lnIZfMjczIiBkYXRhLW5hbWU9IuakreWchiAyNzMiIGNsYXNzPSJjbHMtMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOTY2IDU5OCkiPg0KICAgICAgPGNpcmNsZSBjbGFzcz0iY2xzLTIiIGN4PSI5IiBjeT0iOSIgcj0iOSIvPg0KICAgICAgPGNpcmNsZSBjbGFzcz0iY2xzLTMiIGN4PSI5IiBjeT0iOSIgcj0iOCIvPg0KICAgIDwvZz4NCiAgICA8cGF0aCBpZD0i6Lev5b6EXzUxIiBkYXRhLW5hbWU9Iui3r+W+hCA1MSIgY2xhc3M9ImNscy0xIiBkPSJNMTEzMC4yLDM2OS41MThsMy44NzIsMy43MzEsNS45NDYtNS43MjciIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xNTkuOTg2IDIzNi43MykiLz4NCiAgPC9nPg0KPC9zdmc+DQo="},PbIf:function(t,e,n){"use strict";var i=n("EYjE");n.n(i).a},PpD2:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("eOYL"),o={drawLine:function(t,e,n){return t.canvas=e?e.$canvas:t.canvas,t.path=a,e?(n||(n=i.a.getUUID("line")),e.drawLayer(n,t),n):new i.a(t)}};function a(){!this.curve||this.point.length<=2?function(){var t=this,e=t.$ctx;i.a.stroke(e,t.style,function(e){for(var n=0;n<t.point.length;n++){var i=t.point[n].x||t.point[n][0]||0,o=t.point[n].y||t.point[n][1]||0;0===n?e.moveTo(i,o):e.lineTo(i,o)}})}.call(this):function(){var t=this,e=t.$ctx;i.a.stroke(e,t.style,function(e){for(var n=0;n<t.point.length;n++){var i=t.point[n].x||t.point[n][0]||0,o=t.point[n].y||t.point[n][1]||0;if(0===n)e.moveTo(i,o);else if(t.point[n+1]){var a=0,r=0;t.point[n+2]?(a=(i+(t.point[n+1].x||t.point[n+1][0]))/2,r=(o+(t.point[n+1].y||t.point[n+1][1]))/2):(a=t.point[n+1].x||t.point[n+1][0],r=t.point[n+1].y||t.point[n+1][1]),e.quadraticCurveTo(i,o,a,r)}else e.lineTo(i,o)}})}.call(this)}function r(t,e,n,i,o,a){var r=[],s=o||i||0;if(!i||o&&a){if((o=o||50)<=(a=a||20)){var l=o;o=a,a=l}s=Math.random()*(o-a)+a}var c=e.y-t.y;if(c/2<(i=i||c/2)&&(i=c/2),r.push(t),n||t.x!==e.x&&t.y!==e.y){var h=t.x||t[0]||0,u=t.y||t[1]||0,d=e.x||e[0]||0,p=e.y||e[1]||0,f=i,g={x:h,y:p>u?u+.4*f:u-.4*f},v={x:d,y:p>u?p-.4*f:p+.4*f};if(r.push(g),n&&h===d){"left"===n?n=-s:"right"===n&&(n=s);var m={x:h+n,y:p>u?u+.4*f*2:u-.4*f*2};r.push(m);var y={x:h+n,y:p>u?p-.4*f*2:p+.4*f*2};r.push(y)}r.push(v)}return r.push(e),r}e.b=o},QIyF:function(t,e,n){var i=n("Kz5y");t.exports=function(){return i.Date.now()}},QzUs:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".toolContent {\n  display: inline-block;\n  width: 100%;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  color: #4159d1;\n}\n",""])},U8kZ:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDE4IDE4Ij4NCiAgPGRlZnM+DQogICAgPHN0eWxlPg0KICAgICAgLmNscy0xLCAuY2xzLTMgew0KICAgICAgICBmaWxsOiBub25lOw0KICAgICAgfQ0KDQogICAgICAuY2xzLTEgew0KICAgICAgICBzdHJva2U6ICNmZjY0NjQ7DQogICAgICAgIHN0cm9rZS13aWR0aDogMnB4Ow0KICAgICAgfQ0KDQogICAgICAuY2xzLTIgew0KICAgICAgICBzdHJva2U6IG5vbmU7DQogICAgICB9DQogICAgPC9zdHlsZT4NCiAgPC9kZWZzPg0KICA8ZyBpZD0i57uEXzE5MTYiIGRhdGEtbmFtZT0i57uEIDE5MTYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC05NjYgLTYzNikiPg0KICAgIDxnIGlkPSLmpK3lnIZfNjMiIGRhdGEtbmFtZT0i5qSt5ZyGIDYzIiBjbGFzcz0iY2xzLTEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDk2NiA2MzYpIj4NCiAgICAgIDxjaXJjbGUgY2xhc3M9ImNscy0yIiBjeD0iOSIgY3k9IjkiIHI9IjkiLz4NCiAgICAgIDxjaXJjbGUgY2xhc3M9ImNscy0zIiBjeD0iOSIgY3k9IjkiIHI9IjgiLz4NCiAgICA8L2c+DQogICAgPGxpbmUgaWQ9IuebtOe6v18xMTYiIGRhdGEtbmFtZT0i55u057q/IDExNiIgY2xhc3M9ImNscy0xIiB4Mj0iNiIgeTI9IjYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDk3MiA2NDIpIi8+DQogICAgPGxpbmUgaWQ9IuebtOe6v18xMTciIGRhdGEtbmFtZT0i55u057q/IDExNyIgY2xhc3M9ImNscy0xIiB4MT0iNiIgeTI9IjYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDk3MiA2NDIpIi8+DQogIDwvZz4NCjwvc3ZnPg0K"},U9kv:function(t,e,n){var i=n("uy/s");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("ff63f00e",i,!0,{})},UMXJ:function(t,e,n){"use strict";n.d(e,"b",function(){return h});var i=n("gDS+"),o=n.n(i),a=n("UVkp"),r=n("eOYL"),s={drawText:function(t,e,n){return t.canvas=e?e.$canvas:t.canvas,t.path=c,t.here=l,e?(n||(n=r.a.getUUID("text")),e.drawLayer(n,t),n):new r.a(t)},LEFT:a.a.LEFT,RIGHT:a.a.RIGHT,CENTER:a.a.CENTER};function l(t){var e=this,n=e.$ctx.measureText(e.text).width,i=e.$meta.get("$translate")||{x:0,y:0},o=e.point.x||e.point[0]||0,a=e.point.y||e.point[1]||0,r=(t.x||t[0]||0)-i.x,l=(t.y||t[1]||0)-i.y,c=parseInt(e.style.font),h=!1;return e.position===s.RIGHT?r>=o-n&&r<=o&&l>=a-c/2&&l<=a+c/2&&(h=!0):e.position===s.CENTER?r>=o-n/2&&r<=o+n/2&&l>=a-c/2&&l<=a+c/2&&(h=!0):r>=o&&r<=o+n&&l>=a-c/2&&l<=a+c/2&&(h=!0),h}function c(){var t=JSON.parse(o()(this.style));t.textBaseline=a.a.TEXTBASELINE,t.textAlign="left",this.position===s.RIGHT?t.textAlign="right":this.position===s.CENTER&&(t.textAlign="center"),this.style=t,function(){var t=this;t.text=t.text.toString();for(var e=t.$ctx,n=h(e,t.text,t.style),i=t.width||Math.ceil(n.width),o=parseInt(t.style.font),a=t.breakLine?t.height?Math.floor(t.height/(o+t.betweenEachLine))>t.breakLine?t.breakLine:Math.floor(t.height/(o+t.betweenEachLine)):t.breakLine:1,s=t.width&&Math.ceil(parseInt(n.width)/t.width)<a?Math.ceil(parseInt(n.width)/t.width):a,l=s*i<parseInt(n.width),c=t.point.x||t.point[0]||0,u=t.point.y||t.point[1]||0,d=[],p=0,f=0;f<s;f++){for(var g=Math.floor(t.text.length*(i*a)/parseInt(n.width));parseFloat(h(e,t.text.substr(p,g),t.style).width)>i;)g--;d.push(t.text.substr(p,g)),p+=g}if(l){var v=d[d.length-1].split("");v.splice(-3,3,"..."),d[d.length-1]=v.join("")}for(var m in e.save(),t.style)e[m]=t.style[m];t.angle&&r.a.rotate(e,t.point,t.angle);for(var y=0;y<d.length;y++)e.fillText(d[y],c,u+y*o+(d.length>1?t.betweenEachLine:0));e.restore()}.call(this)}function h(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o={};for(var a in t.save(),n)t[a]=n[a];var r=t.measureText(e);return o.width=r.width,o.ylength=0!==Math.cos(i)?o.width*Math.cos(i):0,o.xlength=0!==Math.sin(i)?o.width*Math.cos(i):o.width,t.restore(),o}e.a=s},UVkp:function(t,e,n){"use strict";e.a={_RADIUS:4,_SANGLE:0,_EANGLE:2*Math.PI,LEFT_UP:"LEFT UP",RIGHT_UP:"RIGHT UP",LEFT_DOWN:"LEFT DOWN",RIGHT_DOWN:"RIGHT DOWN",CENTER:"CENTER",UP:"UP",BOTTOM:"BOTTOM",LEFT:"LEFT",RIGHT:"RIGHT",TEXTBASELINE:"middle",TEXTFAMILY:"Lato",TOLLTIP_TANGLE_SIZE:5,TOLLTIP_BETWEEN:5,TOLLTIP_PADDING:12}},"V/pm":function(t,e,n){"use strict";var i=n("P2sY"),o=n.n(i),a=n("iCc5"),r=n.n(a),s=n("V7oC"),l=n.n(s),c=n("gDS+"),h=n.n(c),u={autoOpen:!0,reconnectInterval:1e3,maxReconnectInterval:3e3,timeoutInterval:2e3,maxReconnectAttempts:5,reconnectDecay:1.5,heartCheck:!0};function d(t,e,n){var i=new CustomEvent(t,{detail:n});return i.originEvent=e,i}var p=function(){function t(e,n){var i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r()(this,t),this.url=e,this.protocols=n,this.options=o()({},u,a),this.ws=null,this.timeouted=!1,this.reconnectAttempts=0,this.readyState=WebSocket.CONNECTING,this.forcedClose=!1;var s=document.createElement("div");this.eventTarget=s,this.addEventListener=s.addEventListener.bind(s),this.removeEventListener=s.removeEventListener.bind(s),this.dispatchEvent=s.dispatchEvent.bind(s),this.options.autoOpen&&setTimeout(function(){i.open(!1)})}return l()(t,[{key:"open",value:function(e){var n=this,i=this.dispatchEvent,o=this.options,a=o.reconnectInterval,r=o.timeoutInterval,s=o.reconnectDecay,l=o.maxReconnectAttempts,c=o.maxReconnectInterval,u=o.heartCheck;if(console.log(this.reconnectAttempts),this.reconnectAttempts){if(l&&this.reconnectAttempts>l)return}else i(d("connecting")),this.reconnectAttempts=0;this.ws||(this.ws=new WebSocket(t.baseUrl+this.url,this.protocols));var p=this.ws,f=null;u&&(f=function(t){return{timeout:6e4,timer:null,reset:function(){clearTimeout(this.timer),this.start()},start:function(){this.timer=setTimeout(function(){t.send(h()(""))},this.timeout)},stop:function(){clearTimeout(this.timer)}}}(p));var g=setTimeout(function(){n.timeouted=!0,n.ws.close(),n.timeouted=!1},r);p.onopen=function(t){clearTimeout(g),n.protocols=p.protocols,n.readyState=WebSocket.OPEN,d("open",t).isReconnect=e,e=!1,i(d("open",t)),f&&f.start()},p.onclose=function(t){if(clearTimeout(g),f&&f.stop(),n.ws=null,n.forcedClose)n.readyState=WebSocket.CLOSED,i(d("close",t));else{n.readyState=WebSocket.CONNECTING;var o=d("connecting");o.code=t.code,o.reason=t.reason,o.wasClean=t.wasClean,i(o),e||n.timeouted||i(d("close",t));var r=a*Math.pow(s,n.reconnectAttempts);setTimeout(function(){n.reconnectAttempts++,n.open(!0)},Math.min(r,c))}},p.onmessage=function(t){var e=d("message",t);e.data=t.data,i(e),f&&f.reset()},p.onerror=function(t){i(d("error",t))}}},{key:"send",value:function(t){if(this.ws)return this.ws.send(t)}},{key:"close",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3,e=arguments[1];this.forcedClose=!0,this.ws&&this.ws.close(t,e)}}]),t}();p.CONNECTING=WebSocket.CONNECTING,p.OPEN=WebSocket.OPEN,p.CLOSING=WebSocket.CLOSING,p.CLOSE=WebSocket.CLOSE,p.baseUrl="ws://"+location.host,e.a=p},WOIZ:function(t,e){},XtLA:function(t,e,n){var i=n("C10x");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("1aa42bd2",i,!0,{})},a6ns:function(t,e,n){"use strict";var i=n("y+41");n.n(i).a},aWcS:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},arco:function(t,e,n){"use strict";var i=n("Do9X");n.n(i).a},bw2v:function(t,e,n){"use strict";var i=n("U9kv");n.n(i).a},cDij:function(t,e,n){"use strict";var i=n("gIJO");n.n(i).a},cU3k:function(t,e,n){"use strict";var i=n("QbLZ"),o=n.n(i),a=n("ODRq"),r=n.n(a),s=n("FyfS"),l=n.n(s),c=n("bdgK"),h={name:"VirtualScrollItem",inject:["scrollData","scrollParent","scrollResizeObserver"],props:{item:{type:Object,required:!0},active:{type:Boolean,required:!0},index:{type:Number,default:void 0},tag:{type:String,default:"div"}},computed:{id:function(){return this.item[this.scrollData.keyField]},size:function(){return this.scrollData.validSizes[this.id]&&this.scrollData.sizes[this.id]||0},finalActive:function(){return this.active&&this.scrollData.active}},watch:{id:function(){this.size||this.onDataUpdate()},finalActive:function(t){this.size||(t?this.scrollParent.$_undefinedMap[this.id]||(this.scrollParent.$_undefinedSizes++,this.scrollParent.$_undefinedMap[this.id]=!0):this.scrollParent.$_undefinedMap[this.id]&&(this.scrollParent.$_undefinedSizes--,this.scrollParent.$_undefinedMap[this.id]=!1)),this.scrollResizeObserver?t?this.observeSize():this.unobserveSize():t&&this.$_pendingScrollUpdate===this.id&&this.updateSize()}},created:function(){this.$_forceNextScrollUpdate=null,this.scrollResizeObserver||this.vscrollParent.$on("vscroll:update",this.onScrollUpdate)},mounted:function(){this.scrollData.active&&(this.updateSize(),this.observeSize())},methods:{updateSize:function(){this.finalActive?this.$_pendingSizeUpdate!==this.id&&(this.$_pendingSizeUpdate=this.id,this.$_forceNextScrollUpdate=null,this.$_pendingScrollUpdate=null,this.computeSize(this.id)):this.$_forceNextScrollUpdate=this.id},computeSize:function(t){var e=this;this.$nextTick(function(){if(e.id===t){var n=e.$el.offsetWidth,i=e.$el.offsetHeight;e.applySize(n,i)}e.$_pendingSizeUpdate=null})},applySize:function(t,e){var n=Math.round(e);n&&this.size!==n&&(this.scrollParent.$_undefinedMap[this.id]&&(this.scrollParent.$_undefinedSizes--,this.scrollParent.$_undefinedMap[this.id]=void 0),this.$set(this.scrollData.sizes,this.id,n),this.$set(this.scrollData.validSizes,this.id,!0))},observeSize:function(){this.scrollResizeObserver&&(this.scrollResizeObserver.observe(this.$el),this.$el.addEventListener("resize",this.onResize))},unobserveSize:function(){this.scrollResizeObserver&&(this.scrollResizeObserver.unobserve(this.$el),this.$el.removeEventListener("resize",this.onResize))},onResize:function(t){var e=t.detail.contentRect,n=e.width,i=e.height;this.applySize(n,i)},onScrollUpdate:function(t){var e=t.force;!this.finalActive&&e&&(this.$_pendingScrollUpdate=this.id),this.$_forceNextScrollUpdate!==this.id&&!e&&this.size||this.updateSize()},onDataUpdate:function(){this.updateSize()}},render:function(t){return t(this.tag,this.$slots.default)}},u=n("KHd+"),d=Object(u.a)(h,void 0,void 0,!1,null,null,null);d.options.__file="VirtualScrollItem.vue";var p=d.exports,f=0,g={name:"VirtualScroll",directives:{ObserveVisibility:n("hf7O").a},components:{VirtualScrollItem:p},provide:function(){return this.$_resizeObserver=new c.default(function(t){var e=!0,n=!1,i=void 0;try{for(var o,a=l()(t);!(e=(o=a.next()).done);e=!0){var r=o.value;if(r.target){var s=new CustomEvent("resize",{detail:{contentRect:r.contentRect}});r.target.dispatchEvent(s)}}}catch(t){n=!0,i=t}finally{try{!e&&a.return&&a.return()}finally{if(n)throw i}}}),{scrollData:this.scrollData,scrollParent:this,scrollResizeObserver:this.$_resizeObserver}},props:{items:{type:Array,required:!0},distance:{type:Number,default:0},disabled:{type:Boolean,default:!1},minItemSize:{type:Number,required:!0},buffer:{type:Number,default:200},keyField:{type:String,default:"lineNum"},emitScroll:{type:Boolean,default:!1}},data:function(){return{pool:[],ready:!1,totalSize:0,scrollData:{active:!0,sizes:{},validSizes:{},keyField:this.keyField}}},computed:{itemsWithSize:function(){for(var t=[],e=this.items,n=this.keyField,i=this.scrollData.sizes,o=0;o<e.length;o++){var a=e[o],r=a[n],s=i[r];void 0!==s||this.$_undefinedMap[r]||(s=0),t.push({item:a,id:r,size:s})}return t},sizes:function(){for(var t={"-1":{accumulator:0}},e=this.itemsWithSize,n=this.minItemSize,i=1e4,o=0,a=void 0,r=0,s=e.length;r<s;r++)(a=e[r].size||n)<i&&(i=a),o+=a,t[r]={accumulator:o,size:a};return this.$_computedMinItemSize=i,t}},watch:{items:function(){this.forceUpdate()},sizes:{handler:function(t){this.updateItems(!1)},deep:!0},itemsWithSize:function(){this.updateItems(!0)}},beforeCreate:function(){this.$_updates=[],this.$_undefinedSizes=0,this.$_undefinedMap={}},created:function(){this.$_startIndex=0,this.$_endIndex=0,this.$_views=new r.a,this.$_unusedViews=new r.a,this.$_scrollDirty=!1,this.$_lastUpdateScrollPosition=0},mounted:function(){var t=this;this.$nextTick(function(){t.updateItems(!0),t.ready=!0}),this.addResizeObserver()},methods:{addView:function(t,e,n,i){var o={item:n,position:0},a={id:f++,index:e,used:!0,key:i};return Object.defineProperty(o,"info",{configurable:!1,value:a}),t.push(o),o},unuseView:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.$_unusedViews,i=t.info.type,o=n.get(i);o||(o=[],n.set(i,o)),o.push(t),e||(t.info.used=!1,t.position=-9999,this.$_views.delete(t.info.key))},handleScroll:function(){var t=this;this.checkPosition(),this.$_scrollDirty||(this.$_scrollDirty=!0,requestAnimationFrame(function(){t.$_scrollDirty=!1,t.updateItems(!1,!0).continuous||(clearTimeout(t.$_refreshTimout),t.$_refreshTimout=setTimeout(t.handleScroll,100))}))},getRange:function(t){var e,n=0,i=this.items.length,o=i-1,a=this.sizes,r=this.buffer;t.start-=r,t.end+=r;var s=0,l=o,c=~~(i/2),h=void 0;do{h=c,a[c].accumulator<t.start?s=c:c<o&&a[c+1].accumulator>t.start&&(l=c),c=~~((s+l)/2)}while(c!==h);for(c<0&&(c=0),e=c,n=c;n<o&&a[n].accumulator<t.end;n++);return-1===n?n=o:++n>i&&(n=i),{startIndex:e,endIndex:n}},updateItems:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.items,i=this.sizes,o=this.pool,a=this.keyField,s=this.$_computedMinItemSize,l=this.$_views,c=this.$_unusedViews,h=n.length,u=this.getScroll();if(e){var d=u.start-this.$_lastStartPosition;if(d<0&&(d=-d),d<s)return{continuous:!0}}this.$_lastStartPosition=u.start;var p=this.getRange(u),f=p.startIndex,g=p.endIndex,v=i[h-1].accumulator;this.totalSize=v;var m=void 0,y=f<=this.$_endIndex&&g>=this.$_startIndex;if(this.$_continuous!==y){if(y){l.clear(),c.clear();for(var b=0,x=o.length;b<x;b++)m=o[b],this.unuseView(m)}this.$_continuous=y}else if(y)for(var I=0,w=o.length;I<w;I++)(m=o[I]).info.used&&(t&&(m.info.index=n.findIndex(function(t){return t[a]===m.item[a]})),(-1===m.info.index||m.info.index<f||m.info.index>=g)&&this.unuseView(m));for(var C=y?null:new r.a,T=void 0,S=void 0,A=void 0,N=void 0,_=f;_<g;_++){var D=(T=n[_])[a];m=l.get(D),i[_].size?(m?(m.info.used=!0,m.item=T):(S=T.type,A=c.get(S),y?A&&A.length?((m=A.pop()).item=T,m.info.used=!0,m.info.index=_,m.info.key=D):m=this.addView(o,_,T,D):(N=C.get(S)||0,(!A||N>=A.length)&&(m=this.addView(o,_,T,D),this.unuseView(m,!0),A=c.get(S)),(m=A[N]).item=T,m.info.used=!0,m.info.index=_,m.info.key=D,C.set(S,N+1),N++),l.set(D,m)),m.position=i[_-1].accumulator):m&&this.unuseView(m)}return this.$_startIndex=f,this.$_endIndex=g,clearTimeout(this.$_sortTimer),this.$_sortTimer=setTimeout(this.sortViews,300),{continuous:y}},getScroll:function(){var t=this.$el;return{start:t.scrollTop,end:t.scrollTop+t.clientHeight}},sortViews:function(){this.pool.sort(function(t,e){return t.info.index-e.info.index})},checkPosition:function(){var t=this.getScroll();this.ready&&0===t.start&&this.$emit("scroll-top"),this.ready&&this.$el.scrollHeight-t.end==0&&this.$emit("scroll-bottom"),this.ready&&this.emitScroll&&this.$emit("scroll",o()({},t,{top:t.start,bottom:this.$el.scrollHeight-t.end}))},handleVisibilityChange:function(t,e){var n=this;this.ready&&(t||0!==e.boundingClientRect.width||0!==e.boundingClientRect.height)&&(this.$emit("vscroll:update",{force:!1}),requestAnimationFrame(function(){n.updateItems(!1)}))},addResizeObserver:function(){var t=new c.default(this.handleResize);t.observe(this.$el),this.$once("hook:beforeDestory",function(){t.disconnect()})},handleResize:function(){this.ready&&(this.updateItems(!1),this.forceUpdate())},scrollToItem:function(t){var e=t>0?this.sizes[t-1].accumulator:0;this.scrollToPosition(e)},scrollToPosition:function(t){this.$el.scrollTop=t},scrollToBottom:function(){var t=this;if(!this.$_scrollingToBottom){this.$_scrollingToBottom=!0;var e=this.$el;this.$nextTick(function(){e.scrollTop=e.scrollHeight+5e3;requestAnimationFrame(function n(){e.scrollTop=e.scrollHeight+5e3,requestAnimationFrame(function(){e.scrollTop=e.scrollHeight+5e3,0===t.$_undefinedSizes?t.$_scrollingToBottom=!1:requestAnimationFrame(n)})})})}},forceUpdate:function(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(this.scrollData.validSizes={}),this.$emit("vscroll:update",{force:!0})}}},v=(n("dmqG"),Object(u.a)(g,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:t.handleVisibilityChange,expression:"handleVisibilityChange"}],staticClass:"scroller",class:{ready:t.ready},on:{"&scroll":function(e){return t.handleScroll(e)}}},[n("div",{ref:"wrapper",staticClass:"wrap",style:{minHeight:t.totalSize+"px"}},t._l(t.pool,function(e){return n("virtual-scroll-item",{key:e.info.id,staticClass:"item-view",style:t.ready?{transform:"translateY("+e.position+"px)"}:null,attrs:{item:e.item,index:e.info.index,active:e.info.used}},[t._t("default",null,{item:e.item,index:e.info.index,active:e.info.used})],2)}))])},[],!1,null,"2dab1a8e",null));v.options.__file="index.vue";var m={components:{Scroll:v.exports},props:{logs:{type:Array,default:null}},data:function(){return{bottom:0}},watch:{logs:function(t,e){if(t)if(e){if(e.length<t.length){var n=t[0].lineNum,i=e[0].lineNum,o=t[t.length-1].lineNum,a=e[e.length-1].lineNum,r=void 0;if(n<i&&o===a)r=i,this.scrollTo(t.findIndex(function(t){return t.lineNum===r}));else if(o>a&&n===i){if(this.bottom>0)return;this.afterScrollMount()}}}else this.afterScrollMount()}},methods:{afterScrollMount:function(){this.$refs.scroller&&this.$refs.scroller.scrollToBottom()},scrollTo:function(t){this.$refs.scroller&&this.$refs.scroller.scrollToItem(t)},onScroll:function(t){this.bottom=t.bottom},setSpace:function(t){return t}}},y=(n("PbIf"),Object(u.a)(m,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"log-content"},[t.logs?t.logs.length?n("scroll",{ref:"scroller",staticClass:"log-contents",attrs:{items:t.logs,"min-item-size":20,"emit-scroll":""},on:{"scroll-top":function(e){t.$emit("scroll-top")},scroll:t.onScroll,"hook:mounted":t.afterScrollMount},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.item;return n("div",{staticClass:"flex flex-row",attrs:{id:i.lineNum}},[n("span",{staticClass:"log-lineNum"},[t._v(t._s(i.lineNum))]),t._v(" "),n("span",{staticClass:"log-content"},[t._v(t._s(i.content))])])}}])}):n("div",{staticClass:"log-tip"},[n("span",[t._v("no data")])]):n("div",{staticClass:"log-tip"},[n("span",[t._v("loading...")])])],1)},[],!1,null,"4d72c288",null));y.options.__file="index.vue";e.a=y.exports},dmqG:function(t,e,n){"use strict";var i=n("qVEv");n.n(i).a},dyDN:function(t,e,n){"use strict";n("EJiy");var i=Number(document.documentMode),o=/([\:\-\_]+(.))/g,a=/^moz([A-Z])/,r=function(t){return t.replace(o,function(t,e,n,i){return i?n.toUpperCase():n}).replace(a,"Moz$1")},s=i<9?function(t,e){if(!t||!e)return null;"float"===(e=r(e))&&(e="styleFloat");try{switch(e){case"opacity":try{return t.filters.item("alpha").opacity/100}catch(t){return 1}default:return t.style[e]||t.currentStyle?t.currentStyle[e]:null}}catch(n){return t.style[e]}}:function(t,e){if(!t||!e)return null;"float"===(e=r(e))&&(e="cssFloat");try{var n=document.defaultView.getComputedStyle(t,"");return t.style[e]||n?n[e]:null}catch(n){return t.style[e]}};var l=n("DhVD"),c=n.n(l),h={name:"OverflowTooltip",props:{tag:{type:String,default:"div"},effect:{type:String,default:"dark"},placement:{type:String,default:"top"},tooltipOptions:{type:Object,default:function(){return{}}}},data:function(){return{tooltipContent:""}},created:function(){this.activateTooltip=c()(50,function(t){return t.handleShowPopper()})},methods:{onMouseEnter:function(){for(var t=this.$slots.default[0].elm;t&&1!==t.nodeType;)t=t.nextSibling;var e=document.createRange();if(e.setStart(t,0),e.setEnd(t,t.childNodes.length),Math.floor(e.getBoundingClientRect().width)+((+s(t,"paddingLeft")||0)+(+s(t,"paddingRight")||0))>t.offsetWidth||t.scrollWidth<t.offsetWidth){var n=this.$refs.tooltip;this.tooltipContent=t.innerText||t.textContent,n.referenceElm=t,n.$refs.popper&&(n.$refs.popper.style.display="none"),n.doDestroy(),n.setExpectedState(!0),this.activateTooltip(n)}},onMouseLeave:function(){var t=this.$refs.tooltip;t&&(t.setExpectedState(!1),t.debounceClose())}}},u=(n("arco"),n("KHd+")),d=Object(u.a)(h,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(t.tag,{tag:"component",on:{mouseenter:t.onMouseEnter,mouseleave:t.onMouseLeave}},[t._t("default"),t._v(" "),n("el-tooltip",t._b({ref:"tooltip",attrs:{effect:t.effect,placement:t.placement}},"el-tooltip",t.tooltipOptions,!1),[t._t("content",[t._v(t._s(t.tooltipContent))],{slot:"content"})],2)],2)},[],!1,null,null,null);d.options.__file="index.vue";e.a=d.exports},eOYL:function(t,e,n){"use strict";var i=n("FyfS"),o=n.n(i),a=n("ODRq"),r=n.n(a),s=n("m1cH"),l=n.n(s),c=n("gDS+"),h=n.n(c),u=n("iCc5"),d=n.n(u),p=n("V7oC"),f=n.n(p),g={click:!0,mouseup:!0,mousemove:!0,mousedown:!0,mousewheel:!0},v=function(){function t(e,n,i){d()(this,t),this.canvasDom=e,this.interactive=function(){var t=JSON.parse(h()(g));for(var e in n)t[e]=n[e];return t}(),this.inited=!1,this.afterInit=i,this.width=0,this.height=0,this._inited()}return f()(t,[{key:"_inited",value:function(){var t=this;if(this.canvasDom){this._suitable();var e=!1;this.lay&&(e=!0,this.lay.deleteAllAboutChain()),this.lay=function(){if(t.canvasDom)return t.afterInit(t.canvasDom)}(),this.scaleTime=1,this.translateX=0,this.translateY=0,this.holding=!1,this.moved=!1,this.originPos=null,this.lay.emit("$translate",this.translateX,this.translateY),!e&&this.lay&&this._addEvents()}}},{key:"_suitable",value:function(){if(this.canvasDom&&this.canvasDom.parentElement){var t=this.canvasDom.parentElement,e=getComputedStyle(t),n=parseInt(e.width),i=parseInt(e.height);this.canvasDom.setAttribute("style","width:"+n+"px;height:"+i+"px;overflow:hidden;"),this.canvasDom.setAttribute("width",n),this.canvasDom.setAttribute("height",i),this.width=n,this.height=i,this.inited=!0}}},{key:"_addEvents",value:function(){if(this.inited){var t=this;t.canvasDom.addEventListener("mousedown",function(e){e.stopPropagation(),e.preventDefault(),t.holding=!0,t.moved=!1,t.interactive.mousedown.operation&&t.interactive.mousedown.operation(t.lay)}),t.canvasDom.addEventListener("mousemove",function(e){if(e.stopPropagation(),e.preventDefault(),t.holding)if(null===t.originPos)t.originPos=t._getPos(e);else{var n=t._getPos(e);if(n.x!==t.originPos.x||n.y!==t.originPos.y){t.moved=!0;var i=n.x-t.originPos.x,o=n.y-t.originPos.y;t.translateX+=i,t.translateY+=o,t.originPos=n,!0===t.interactive.mousemove?(t.lay.$ctx.translate(i,o),t.lay.emit("$translate",t.translateX,t.translateY),t.lay.drawing()):t.interactive.mousemove&&t.interactive.mousemove.operation(t.lay,t.holding,i,o)}}else{var a=t._getPos(e);!0===t.interactive.mousemove?t.lay.emit("showTips",a):t.interactive.mousemove&&t.interactive.mousemove.operation(t.lay,t.holding,a)}}),t.canvasDom.addEventListener("mouseup",function(e){e.stopPropagation(),e.preventDefault(),t.holding=!1,t.originPos=null,t.interactive.mouseup.operation&&t.interactive.mouseup.operation(t.lay)}),t.canvasDom.addEventListener("click",function(e){if(e.preventDefault(),t.moved)t.moved=!1;else{var n=t._getPos(e);if(t.interactive.click.beforeClick&&t.interactive.click.beforeClick(),t.interactive.click.operation)t.interactive.click.operation(t.lay,n);else if(!0===t.interactive.click)t.lay.emit("choose",n);else if(t.interactive.click.props){var i;(i=t.lay).emit.apply(i,["choose",n].concat(l()(t.interactive.click.props)))}}}),t.canvasDom.addEventListener("mouseout",function(e){e.stopPropagation(),e.preventDefault(),t.originPos=null,t.holding=!1,t.interactive.mouseout&&t.interactive.mouseout.operation(t.lay)});var e=function(e){e.stopPropagation(),e.preventDefault();var n=t._getPos(e),i=e.wheelDelta||24*-e.detail,o=t.scaleTime+i/1500,a=(o=o<=.1?.1:o)/t.scaleTime;t.scaleTime=o,!0===t.interactive.mousewheel?t.lay.emit("scale",a,n):t.interactive.mousewheel&&t.interactive.mousewheel.operation(t.lay,a,n)};/Firefox/i.test(window.navigator.userAgent)?t.canvasDom.addEventListener("DOMMouseScroll",e):t.canvasDom.addEventListener("mousewheel",e),window.addEventListener("resize",function(){setTimeout(function(){t.interactive.resize?(t._suitable(),t.interactive.resize()):t._inited()},10)})}}},{key:"_getPos",value:function(t){var e=void 0,n=void 0;return t.layerX||0===t.layerX?(e=t.layerX,n=t.layerY):(t.offsetX||0===t.offsetY)&&(e=t.offsetX,n=t.offsetY),{x:e,y:n}}},{key:"suitableForWhole",value:function(t,e,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(!this.inited)return!1;n=n||20;var o=this,a=this.canvasDom.width-2*n,r=this.canvasDom.height-2*n,s=t.call(this.lay),l=r/s.height,c=a/s.width,h=l<c?l:c;return i?this.scaleTime*h>1&&(h=1/this.scaleTime,this.scaleTime=1):this.scaleTime*=h,!0===o.interactive.mousewheel?this.lay.emit("scale",h,s.point,function(){e&&e(),o.lay.$ctx.translate(-o.translateX,-o.translateY),o.translateX=0,o.translateY=0,o.lay.emit("$translate",o.translateX,o.translateY)}):o.interactive.mousewheel&&o.interactive.mousewheel.operation(this.lay,h,s.point),!0}},{key:"scaleBigger",value:function(){var t=this.canvasDom.width/2-this.translateX,e=this.canvasDom.height/2-this.translateY,n=(this.scaleTime+.1)/this.scaleTime;this.scaleTime+=.1,this.lay.emit("scale",n,{x:t,y:e})}},{key:"scaleSmaller",value:function(){var t=this.canvasDom.width/2-this.translateX,e=this.canvasDom.height/2-this.translateY,n=(this.scaleTime-.1)/this.scaleTime;this.scaleTime-=.1,this.lay.emit("scale",n,{x:t,y:e})}}]),t}();function m(){for(var t={},e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];if(1===n.length)t=n[0];else{var a=!0,r=!1,s=void 0;try{for(var l,c=o()(n);!(a=(l=c.next()).done);a=!0){var h=l.value;for(var u in h)t[u]=h[u]}}catch(t){r=!0,s=t}finally{try{!a&&c.return&&c.return()}finally{if(r)throw s}}}return t}function y(t){for(var e=t,n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];var r=!0,s=!1,l=void 0;try{for(var c,h=o()(i);!(r=(c=h.next()).done);r=!0){var u=c.value;for(var d in u)e[d]=u[d]}}catch(t){s=!0,l=t}finally{try{!r&&h.return&&h.return()}finally{if(s)throw l}}return e}function b(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:7,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,i=(new Date).getTime().toString().substr(-e),o=Math.ceil(Math.random()*Math.pow(10,n)).toString();return t+"_"+i+"_"+(o=(n>o.length?new Array(n-o.length).fill(0).join(""):"")+o)}function x(t,e){var n=t.toLowerCase();if(n&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(n)){if(4===n.length){for(var i="#",o=1;o<4;o+=1)i+=n.slice(o,o+1).concat(n.slice(o,o+1));n=i}for(var a=[],r=1;r<7;r+=2)a.push(parseInt("0x"+n.slice(r,r+2)));return"rgba("+a.join(",")+","+(void 0!==e?e:1)+")"}return n}function I(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!i&&t.beginPath(),n(t),!i){for(var o in t.save(),e)t[o]=e[o];t.stroke(),t.restore(),t.closePath()}}function w(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!i&&t.beginPath(),n(t),!i){for(var o in t.save(),e)t[o]=e[o];t.fill(),t.restore(),t.closePath()}}function C(t,e){var n=t.$ctx;t.stroke&&I(n,t.style,e),t.fill&&w(n,t.style,e),t.justPath&&e(n)}function T(t,e,n){var i=e.x||e[0],o=e.y||e[1];t.translate(i,o),t.rotate(n),t.translate(-i,-o)}function S(t,e,n){var i=t.x||t[0]||0,o=t.y||t[1]||0,a=e.x||e[0]||0,r=e.y||e[1]||0;return{x:a+A((i-a)*n),y:r+A((o-r)*n)}}function A(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;return parseFloat(parseFloat(t).toFixed(e))}function N(t){if(!t)return"00:00:00";if(t.toString().match(":"))return t;t=(new Date).getTime()-t;var e=Math.round(t/1e3),n=e%60,i=(e-n)/60,o=i%60,a=(i-o)/60;return n=n<10?"0"+n:n,o=o<10?"0"+o:o,(a=a<10?"0"+a:a)+":"+o+":"+n}var _=n("EJiy"),D=n.n(_);var k=new r.a,E=null,$=10;function z(){var t=[],e=!0,n=!1,i=void 0;try{for(var a,r=o()(k);!(e=(a=r.next()).done);e=!0){var s=a.value,l=s[1].getOnce();if(null===l)k.delete(s[0]);else if(l){P(s[1].lay);var c=s[1].lay.getTopNode(),h=0,u=!0,d=!1,p=void 0;try{for(var f,g=o()(t);!(u=(f=g.next()).done);u=!0){var v=f.value;if(c.$uuid===v.$uuid)break;h++}}catch(t){d=!0,p=t}finally{try{!u&&g.return&&g.return()}finally{if(d)throw p}}h>=t.length&&t.push(c),s[1].chainFinish&&k.delete(s[0])}}}catch(t){n=!0,i=t}finally{try{!e&&r.return&&r.return()}finally{if(n)throw i}}var m=!0,y=!1,b=void 0;try{for(var x,I=o()(t);!(m=(x=I.next()).done);m=!0){x.value.drawing()}}catch(t){y=!0,b=t}finally{try{!m&&I.return&&I.return()}finally{if(y)throw b}}k.size>0?E=setTimeout(z,$):(clearTimeout(E),E=null)}function P(t){t.$struct&&t.$struct()}var M=function(){function t(e,n,i,a){d()(this,t),this.name=e,this.repeat=n,this.chainList=[],this.chainFinish=!1,this.lay=i,this.hasCalledOnce=!1;var r=!0,s=!1,l=void 0;try{for(var c,h=o()(a);!(r=(c=h.next()).done);r=!0){var u=c.value;u.lay=i,this.chainList.push(new L(u))}}catch(t){s=!0,l=t}finally{try{!r&&h.return&&h.return()}finally{if(s)throw l}}}return f()(t,[{key:"getOnce",value:function(){var t=null,e=!0,n=!1,i=void 0;try{for(var a,r=o()(this.chainList);!(e=(a=r.next()).done);e=!0){var s=a.value;if(!s.finish){t=s.getOnce();break}}}catch(t){n=!0,i=t}finally{try{!e&&r.return&&r.return()}finally{if(n)throw i}}return this.complete()&&(this.repeat?this.restart():this.chainFinish=!0),this.hasCalledOnce=!0,t}},{key:"complete",value:function(){var t=!0,e=!1,n=void 0;try{for(var i,a=o()(this.chainList);!(t=(i=a.next()).done);t=!0){if(!i.value.finish)return!1}}catch(t){e=!0,n=t}finally{try{!t&&a.return&&a.return()}finally{if(e)throw n}}return!0}},{key:"restart",value:function(){var t=!0,e=!1,n=void 0;try{for(var i,a=o()(this.chainList);!(t=(i=a.next()).done);t=!0){i.value.restart()}}catch(t){e=!0,n=t}finally{try{!t&&a.return&&a.return()}finally{if(e)throw n}}}}]),t}(),L=function(){function t(e){var n=e.target,i=e.process,o=e.interval,a=e.origin,r=e.lay,s=e.compare;d()(this,t),this.target=n,this.process=i,this.interval=o,this.origin=a,this.lay=r,this.finish=!1,this.current=this.origin,this.round=0,this.compare=s}return f()(t,[{key:"getOnce",value:function(){this.round++;var t=!1;return this.round*$>=this.interval&&(this.current=this.process(),this.complete(),this.round=0,t=!0),t}},{key:"getCurrent",value:function(t){for(var e=Math.floor(t/this.interval),n=this.origin,i=0;i<e;i++)n=this.process.call(this.lay,n);return n}},{key:"complete",value:function(e){var n=e||this.current;return this.compare?this.finish=this.compare():this.finish=n===this.target||!0===n||n===t.FINISH,this.finish}},{key:"restart",value:function(){this.finish=!1,this.round=0,this.current=this.origin}}]),t}();function R(t){this._InitStatus(t),this._InitEvents(t)}L.FINISH="FINISH",n.d(e,"a",function(){return R}),function(t){t.prototype._InitStatus=function(t){this._inited=!1,this.$children=new r.a,this.$childrenName=[],this.$parent=null,this.$meta=new r.a,function(t,e){var n=e.canvas,i=e.props,a=e.struct,r=e.path,s=e.here,l=e.clear,c=e.zindex,h=e.visiable,u=void 0===h||h,d=e._const,p=void 0!==d&&d,f=e.__parent__,g=e.__inCanvas__,v={};if(t.$uuid||(v.$uuid=b("layer")),n&&(v.$canvas=n,v.$ctx=n.getContext("2d")),i)for(var m in i)v[m]=i[m];r&&(v.$path=r),v.$here=s||(a?function(e){var n=!1,i=!0,a=!1,r=void 0;try{for(var s,l=o()(t.$children);!(i=(s=l.next()).done);i=!0){var c=s.value;if(n=c[1].$here(e))break}}catch(t){a=!0,r=t}finally{try{!i&&l.return&&l.return()}finally{if(a)throw r}}return n}:function(t){return!1}),l&&(v.$clear=l),c&&(v.$zindex=c),a&&(v.$struct=function(){t.$childrenName=[],a.call(t);var e=!0,n=!1,i=void 0;try{for(var r,s=o()(t.$children);!(e=(r=s.next()).done);e=!0){var l=r.value;t.$childrenName.indexOf(l[0])<0&&!l[1].$const&&t.$children.delete(l[0])}}catch(t){n=!0,i=t}finally{try{!e&&s.return&&s.return()}finally{if(n)throw i}}}),f&&(v.$parent=f,p&&(v.$const=p)),g&&(v.$inCanvas=g),v.$visiable=u,y(t,v),a&&t.$struct()}(this,t)},t.prototype.getTopNode=function(){for(var t=this;t.$parent;)t=t.$parent;return t},t.prototype.destory=function(){!function(t){var e=t.$children;t.$children=null,t.$parent=null,t.$events={},e.forEach(function(t){t.destory(t)})}(this)}}(R),function(t){t.prototype.InitTranslate=function(t){var e=t.translate;if(e)for(var n in e)Array.isArray(e[n])?this.registerChainTranslate(!1,e[n]):"object"===D()(e[n])&&("boolean"==typeof e[n].repeat&&e[n].steps?this.registerChainTranslate.apply(this,[e[n].repeat].concat(l()(e[n].steps))):this.registerChainTranslate(!1,e[n]))},t.prototype.registerChainTranslate=function(t,e){for(var n=arguments.length,i=Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];var a=new M(t,e,this,i);k.set(t+"_"+this.$uuid,a),k.size>0&&null===E&&(E=setTimeout(z,$))},t.prototype.deleteChainTranslate=function(t){k.delete(t+"_"+this.$uuid)},t.prototype.deleteAllAboutChain=function(){if(k.size>0){var t=!0,e=!1,n=void 0;try{for(var i,a=o()(k);!(t=(i=a.next()).done);t=!0){var r=i.value;r[0].match(this.$uuid)&&k.delete(r[0])}}catch(t){e=!0,n=t}finally{try{!t&&a.return&&a.return()}finally{if(e)throw n}}}if(this.$children.size>0){var s=!0,l=!1,c=void 0;try{for(var h,u=o()(this.$children);!(s=(h=u.next()).done);s=!0)h.value[1].deleteAllAboutChain()}catch(t){l=!0,c=t}finally{try{!s&&u.return&&u.return()}finally{if(l)throw c}}}},t.prototype.settingRGBA=function(t,e,n,i,o){return{interval:o||$,lay:this,target:e,origin:t,process:function(){for(var t=x(this.origin).replace("rgba(","").replace(")$","").split(","),e=x(this.target).replace("rgba(","").replace(")$","").split(","),a=x(this.current).replace("rgba(","").replace(")$","").split(","),r=0;r<t.length;r++){var s=(parseFloat(e[r])-parseFloat(t[r]))/Math.floor((i||$)/(o||$));a[r]=parseFloat(a[r])+s,(s<0&&a[r]<parseFloat(e[r])||s>0&&a[r]>parseFloat(e[r]))&&(a[r]=parseFloat(e[r]))}return n.call(this.lay,"rgba("+a.join(",")+")"),"rgba("+a.join(",")+")"=="rgba("+e.join(",")||"rgba("+a.join(",")+")"}}},t.prototype.settingNum=function(t,e,n,i,o){return{interval:o||$,lay:this,target:e,origin:t,process:function(){var t=(this.target-this.origin)/Math.floor((i||$)/(o||$)),e=this.current+t;return(t<0&&e<this.target||t>0&&e>this.target)&&(e=this.target),this.current=e,n.call(this.lay,e),e===this.target||e}}},t.prototype.setting=function(t,e,n){return{interval:n||$,lay:this,target:t,origin:null,process:function(){return e.call(this.lay,t),L.FINISH}}},t.prototype.settingCus=function(t,e){return{interval:e||$,lay:this,target:null,origin:null,process:function(){return t.call(this),!0}}},t.prototype.setCus=function(e,n,i){var o=e||t.getUUID("trasnlate");return this.registerChainTranslate(o,!1,this.settingCus(n,i)),o},t.prototype.set=function(e,n,i,o){var a=e||t.getUUID("trasnlate"),r={interval:o||$,lay:this,target:n,origin:null,process:function(){return i.call(this.lay,n),L.FINISH}};return this.registerChainTranslate(a,!1,r),a}}(R),function(t){t.prototype.drawing=function(){(function(){var t=[];(function(){if(!this.$parent)if(this.$clear)this.$clear();else{var t=this.$canvas.width,e=this.$canvas.height;this.$ctx.clearRect(-10*t,-10*e,20*t,20*e)}}).call(this);var e=this.getTopNode();!function e(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;n.$children.size>0?n.$children.forEach(function(n,o){if(n.$children.size>0&&n.$visiable)e(n,i+(n.$zindex||0));else{var a=i+(n.$zindex||0);t[a]||(t[a]=[]),t[a].push(n)}}):(t[0]||(t[0]=[]),t[0].push(n))}(e,0);var n=!0,i=!1,a=void 0;try{for(var r,s=o()(t);!(n=(r=s.next()).done);n=!0){var l=r.value;if(l){var c=!0,h=!1,u=void 0;try{for(var d,p=o()(l);!(c=(d=p.next()).done);c=!0){var f=d.value;f.$visiable&&(f.$inCanvas&&!f.$inCanvas()||f.$path())}}catch(t){h=!0,u=t}finally{try{!c&&p.return&&p.return()}finally{if(h)throw u}}}}}catch(t){i=!0,a=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}}).call(this)},t.prototype.drawLayer=function(e,n,i){var o=this.$children.get(e),a=!0;if(o){if(a=!1,!i&&n.props)for(var r in n.props)o[r]=n.props[r];n.canvas&&o.$canvas!==n.canvas&&(o.$canvas=n.canvas,o.$ctx=o.$canvas.getContext("2d")),o.$struct&&o.$struct()}else n.__parent__=this,void 0===n.visiable&&(n.visiable=this.$visiable),o=new t(n),this.$children.set(e,o);return this.$childrenName.push(e),{node:o,old:!a}},t.prototype.drawLayers=function(t){for(var e in t)this.drawLayer(e,t[e])}}(R),function(t){t.prototype._InitEvents=function(t){var e=t.events;this.$events=e||{},this.$events.$showing=function(){if(this.$visiable=!0,this.$children.size>0){var t=!0,e=!1,n=void 0;try{for(var i,a=o()(this.$children);!(t=(i=a.next()).done);t=!0)i.value[1].emit("$showing")}catch(t){e=!0,n=t}finally{try{!t&&a.return&&a.return()}finally{if(e)throw n}}}},this.$events.$hide=function(){if(this.$visiable=!1,this.$children.size>0){var t=!0,e=!1,n=void 0;try{for(var i,a=o()(this.$children);!(t=(i=a.next()).done);t=!0)i.value[1].emit("$hide")}catch(t){e=!0,n=t}finally{try{!t&&a.return&&a.return()}finally{if(e)throw n}}}},this.$events.$translate=function(t,e){this.$meta||(this.$meta=new r.a),this.$meta.set("$translate",{x:t||0,y:e||0})}},t.prototype.$showing=function(){this.emit("$showing")},t.prototype.$hide=function(){this.emit("$hide")},t.prototype.emit=function(t){for(var e=this,n="",i=arguments.length,a=Array(i>1?i-1:0),r=1;r<i;r++)a[r-1]=arguments[r];var s=!0,l=!1,c=void 0;try{for(var h,u=o()(e.$children);!(s=(h=u.next()).done);s=!0){var d;if("finish"===(n=(d=h.value[1]).emit.apply(d,[t].concat(a))))return"finish"}}catch(t){l=!0,c=t}finally{try{!s&&u.return&&u.return()}finally{if(l)throw c}}if(e.$events[t]){Array.isArray(e.$events[t])||(e.$events[t]=[e.$events[t]]);var p=!0,f=!1,g=void 0;try{for(var v,m=o()(e.$events[t]);!(p=(v=m.next()).done);p=!0){var y=v.value;n=n||y.call.apply(y,[e].concat(a))}}catch(t){f=!0,g=t}finally{try{!p&&m.return&&m.return()}finally{if(f)throw g}}}return n},t.prototype.addEvent=function(t,e){this.$events[t]||(this.$events=[]),this.$events.push(e)},t.prototype.removeEvent=function(t){this.$events[t]=[]}}(R),function(t){var e={mergeObj:m,mergeObjTo:y,getUUID:b,toRGBA:x,stroke:I,fill:w,commonDrawing:C,rotate:T,scaleDistanceForPoint:S,toFixed:A,CanvasUtil:v,exchangeTime:N};for(var n in e)t[n]=e[n]}(R)},gIJO:function(t,e,n){var i=n("aWcS");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("80e2e90c",i,!0,{})},iA7x:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNCIgaGVpZ2h0PSI2IiB2aWV3Qm94PSIwIDAgMTQgNiI+PGRlZnM+PHN0eWxlPi5he2ZpbGw6IzAwY2JmZjt9LmJ7ZmlsbDojMDA4MWEyO308L3N0eWxlPjwvZGVmcz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtOTA4IC04MDEpIj48cmVjdCBjbGFzcz0iYSIgd2lkdGg9IjE0IiBoZWlnaHQ9IjYiIHJ4PSIyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg5MDggODAxKSIvPjxyZWN0IGNsYXNzPSJiIiB3aWR0aD0iMiIgaGVpZ2h0PSIyIiByeD0iMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOTEwIDgwMykiLz48cmVjdCBjbGFzcz0iYiIgd2lkdGg9IjIiIGhlaWdodD0iMiIgcng9IjEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDkxNCA4MDMpIi8+PHJlY3QgY2xhc3M9ImIiIHdpZHRoPSIyIiBoZWlnaHQ9IjIiIHJ4PSIxIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg5MTggODAzKSIvPjwvZz48L3N2Zz4="},iooT:function(t,e,n){"use strict";var i=n("XtLA");n.n(i).a},l489:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNCIgaGVpZ2h0PSI2IiB2aWV3Qm94PSIwIDAgMTQgNiI+PGRlZnM+PHN0eWxlPi5he2ZpbGw6I2U2YjI1ODt9LmJ7ZmlsbDojYjcwO308L3N0eWxlPjwvZGVmcz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtOTA4IC04MDEpIj48cmVjdCBjbGFzcz0iYSIgd2lkdGg9IjE0IiBoZWlnaHQ9IjYiIHJ4PSIyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg5MDggODAxKSIvPjxyZWN0IGNsYXNzPSJiIiB3aWR0aD0iMiIgaGVpZ2h0PSIyIiByeD0iMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOTEwIDgwMykiLz48cmVjdCBjbGFzcz0iYiIgd2lkdGg9IjIiIGhlaWdodD0iMiIgcng9IjEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDkxNCA4MDMpIi8+PHJlY3QgY2xhc3M9ImIiIHdpZHRoPSIyIiBoZWlnaHQ9IjIiIHJ4PSIxIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg5MTggODAzKSIvPjwvZz48L3N2Zz4="},lBxe:function(t,e,n){"use strict";var i=n("4d7F"),o=n.n(i),a=n("P2sY"),r=n.n(a),s=n("gDS+"),l=n.n(s),c=n("FyfS"),h=n.n(c),u=n("ODRq"),d=n.n(u),p=n("GQeE"),f=n.n(p),g=n("iCc5"),v=n.n(g),m=n("V7oC"),y=n.n(m),b=n("mWkO"),x=n("m1cH"),I=n.n(x),w=n("UMXJ"),C=8,T=22,S="#ffffff",A="#4159D1",N="#0EC7A5",_="rgba(36,182,139,0.6)",D="rgba(187,187,200,0.6)",k="#FF4F38",E="#e8e8ef",$="#BBBBC8",z=4,P="#6A6C75",M="#ffffff",L="#534C77",R=16,U="arial",j="#999BA3",O="#494ECE",B=6,F=10,G=12,W=20,H=4,Z=2,Y=2,J=12,K=5,Q=6,X=4,V="rgba(127,125,142,0.7)",q="rgba(255,255,255,1)",tt="#E6B258",et="#00cbff",nt="#7F7D8E",it="#7F7D8E",ot={drawProgress:function(t,e,n){t.canvas=e?e.$canvas:t.canvas,t.struct=st;var i=!0,o=null;if(e){n||(n=b.a.getUUID("progress"));var a=e.drawLayer(n,t);return i=!a.old,o=a.node,i&&ot.type.RUNNING.match(o.type.toUpperCase())&&(ot.animations.tictok.call(o),ot.animations.loading.call(o)),n}return o=new b.a(t),ot.type.RUNNING.match(o.type.toUpperCase())&&(ot.animations.tictok.call(o),ot.animations.loading.call(o)),o},clear:function(){this.$ctx.clearRect(0,0,this.$canvas.width,this.$canvas.height)},type:{UNRUN:"UNRUN|WAITING",RUNNING:"RUNNING",FAIL:"FAILED|ERROR|CANCELED",SUCCESS:"SUCCESS|COMPLETE"},events:{choose:function(t,e){var n=this;n.$here(t)?n.choose=!0:n.choose=!1,n.setCus("choose",function(){n.containerStyle=at(n.type,!!n.choose,n.disable),n.contentStyle=at(n.type,!!n.choose,n.disable,"content"),n.fontStyle=rt(n.type,!!n.choose,n.disable),e&&"function"==typeof e&&e(n.text,n.$here(t))})},linkChoose:function(t,e){var n=this;if(n.$here(t))return n.setCus("choose",function(){e&&"function"==typeof e&&e(n.$parent.text,n.$here(t),!0)}),"finish"},scale:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var e=this;e._scale=(e._scale?e._scale:1)*t,e.setCus("scale",function(){e.contentFontSize=b.a.toFixed(e.contentFontSize*t),e.iconPadding=b.a.toFixed(e.iconPadding*t),e.betweenIconWithContent=b.a.toFixed(e.betweenIconWithContent*t),e.lineWidth=b.a.toFixed(e.lineWidth*t),e.portWidth=b.a.toFixed(e.portWidth*t),e.portHeight=b.a.toFixed(e.portHeight*t),e.portRadius=b.a.toFixed(e.portRadius*t),e.betweenPortWidthTooltip=b.a.toFixed(e.betweenPortWidthTooltip*t),e.radius=b.a.toFixed(e.radius*t)})},showTips:function(t){var e=this,n=function(n){var i=e.$children.get(n);i&&(i.$here(t)?i.setCus("showToolTip",function(){e.$children.get(n+"Tooltip").emit("$showing")}):e.$children.get(n+"Tooltip").$visiable&&i.setCus("hideTooltip",function(){e.$children.get(n+"Tooltip").emit("$hide")}))};if(e.input.length>0){var i=!0,o=!1,a=void 0;try{for(var r,s=h()(e.input);!(i=(r=s.next()).done);i=!0){n(r.value.name)}}catch(t){o=!0,a=t}finally{try{!i&&s.return&&s.return()}finally{if(o)throw a}}}if(e.output.length>0){var l=!0,c=!1,u=void 0;try{for(var d,p=h()(e.output);!(l=(d=p.next()).done);l=!0){n(d.value.name)}}catch(t){c=!0,u=t}finally{try{!l&&p.return&&p.return()}finally{if(c)throw u}}}}},animations:{tictok:function(){var t=this;t.registerChainTranslate("tictok",!0,t.settingCus(function(){t.time.match(":")||(t.time=b.a.exchangeTime(t.time));var e=t.time.split(":"),n=parseInt(e[0]),i=parseInt(e[1]),o=parseInt(e[2]);o+1>=60?(o=0,i+1>=60?(i=0,n+=1):i+=1):o+=1,n=(n.toString().length<2?"0":"")+n,i=(i.toString().length<2?"0":"")+i,o=(o.toString().length<2?"0":"")+o,t.time=n+":"+i+":"+o},900))},loading:function(){var t=this,e=[];e.push(t.settingRGBA(t.contentStyle,"rgba(36,182,139,0)",function(e){t.contentStyle=e},500)),e.push(t.settingCus(function(){t.progress=0,t.contentStyle=at(t.type||ot.type.UNRUN,!!t.choose,t.disable,"content")})),e.push(t.settingNum(0,1,function(e){t.progress=e},3e3,20)),t.registerChainTranslate.apply(t,["loading",!0].concat(e))},toNewType:function(t,e){var n=this;if(t!==n.type){var i={toNewTypeContent:[],toNewTypeContainer:[],toNewTypeText:[]};t!==ot.type.RUNNING&&(n.deleteChainTranslate("loading"),n.deleteChainTranslate("tictok"),i.toNewTypeContent.push(n.settingNum(n.progress||1,1,function(t){n.progress=t},200)));var o=at(t,!!n.choose,n.disable,"content");i.toNewTypeContent.push(n.settingRGBA(n.contentStyle,o,function(t){n.contentStyle=t},200)),i.toNewTypeContent.push(n.settingCus(function(){n.type=t,t===ot.type.RUNNING?(n.progress=0,n.time=b.a.exchangeTime(e)||n.time||"00:00:00",n.$children.get("time").$visiable||n.$children.get("time").emit("$showing"),ot.animations.tictok.call(n),ot.animations.loading.call(n)):n.$children.get("time").$visiable&&n.$children.get("time").emit("$hide"),t===ot.type.SUCCESS||t===ot.type.FAIL?(n.img=e,n.$children.get("icon").$visiable||n.$children.get("icon").emit("$showing")):n.$children.get("icon").$visiable&&n.$children.get("icon").emit("$hide"),t!==ot.type.FAIL||n.$children.get("retryBtn").$visiable?n.$children.get("retryBtn").$visiable&&n.$children.get("retryBtn").emit("$hide"):n.$children.get("retryBtn").emit("$showing")}));var a=at(t,!!n.choose,n.disable);i.toNewTypeContainer.push(n.settingRGBA(n.containerStyle,a,function(t){n.containerStyle=t},200));var r=rt(t,!!n.choose,n.disable);for(var s in i.toNewTypeText.push(n.settingRGBA(n.fontStyle,r,function(t){n.fontStyle=t},200)),i)n.registerChainTranslate.apply(n,[s,!1].concat(I()(i[s])))}}}};function at(t,e,n,i){return e?"content"===i&&t===ot.type.RUNNING?n?D:_:A:n&&t!==ot.type.UNRUN?E:n&&t===ot.type.UNRUN?$:t===ot.type.SUCCESS?N:t===ot.type.RUNNING?"content"===i?n?D:_:N:t===ot.type.FAIL?k:t===ot.type.UNRUN?E:void 0}function rt(t,e,n){return n&&t!==ot.type.UNRUN?e?M:P:n&&t===ot.type.UNRUN?e?M:L:t===ot.type.SUCCESS?M:t===ot.type.RUNNING?P:t===ot.type.FAIL?M:t===ot.type.UNRUN?P:void 0}function st(){var t=this;t.choose=!!t.choose,t.contentFontSize=t.contentFontSize||R,t.padding=t.padding||T,t.tooltipRadius=t.tooltipRadius||X,t.iconPadding=t.iconPadding||F,t.betweenIconWithContent=t.betweenIconWithContent||B,t.lineWidth=t.lineWidth||C,t.portWidth=t.portWidth||(t.specialDataInput?W:G),t.portHeight=t.portHeight||H,t.portRadius=t.portRadius||Z,t.betweenPortWidthTooltip=t.betweenPortWidthTooltip||Y,t.tooltipFont=t.tooltipFont||J,t.tipTrangleSize=t.tipTrangleSize||K,t.radius=t.radius||z,t.tooltipPadding=t.tooltipPadding||Q,t.type===ot.type.RUNNING&&(t.time=b.a.exchangeTime(t.time)||"00:00:00");var e=t.input,n=t.output,i=t.point.x||t.point[0]||0,o=t.point.y||t.point[1]||0,a=function(t,e,n,i){i&&(i.containerStyle=i.containerStyle||at(t||ot.type.UNRUN,!!e,n),i.contentStyle=i.contentStyle||at(t||ot.type.UNRUN,!!e,n,"content"),i.fontStyle=i.fontStyle||rt(t||ot.type.UNRUN,!!e,n));var o={container:{fillStyle:i?i.containerStyle:at(t||ot.type.UNRUN,!!e,n)},content:{fillStyle:i?i.contentStyle:at(t||ot.type.UNRUN,!!e,n,"content")},text:{font:i.contentFontSize+"px "+U,fillStyle:i.fontStyle},time:{font:.8*i.contentFontSize+"px "+U,fillStyle:j},link:{font:.8*i.contentFontSize+"px "+U,fillStyle:O,cursor:"pointer",underline:!0}};return i.style=o,i.style}(t.type,t.choose,t.disable,t),r=Object(w.b)(t.$ctx,t.text,a.text);a.container.fillStyle=t.containerLightUp||a.container.fillStyle;var s=t.width||Math.ceil(r.width)+2*t.padding+2*t.lineWidth,l=t.height||t.contentFontSize+t.padding,c=t.type,h=new d.a,u=l-t.iconPadding,p=t.betweenIconWithContent;if(b.a.component.rect.drawRect({props:{point:{x:i,y:o},width:s,height:l,radius:t.radius,style:a.container,fill:!0}},t,"container"),b.a.component.rect.drawRect({props:{point:{x:i,y:o},width:s-.6*t.lineWidth,height:l-.6*t.lineWidth,radius:t.radius,style:{fillStyle:S},fill:!0}},t,"containerInner"),b.a.component.rect.drawRect({props:{point:{x:i,y:o},width:s-.5*t.lineWidth,height:l-.5*t.lineWidth,progress:void 0!==t.progress?t.progress:1,radius:t.radius,style:a.content,fill:!0}},t,"content"),b.a.component.text.drawText({props:{point:{x:i,y:o},text:t.text,style:a.text,position:b.a.component.text.CENTER}},t,"text"),b.a.component.icon.drawIcon({props:{point:{x:i+s/2+p+u/2,y:o},width:u,img:t.img},visiable:!!t.img},t,"icon"),b.a.component.text.drawText({props:{point:{x:i+s/2+p,y:o},text:t.time,style:a.time},visiable:c===ot.type.RUNNING},t,"time"),b.a.component.text.drawText({props:{point:{x:i+s/2+2*p+u,y:o},text:"retry",style:a.link},visiable:c===ot.type.FAIL,events:{choose:ot.events.linkChoose}},t,"retryBtn"),e.length>0)for(var f=e.length,g=o-l/2,v=0;v<f;v++){var m={x:1===f?i:i+s/2*(v/(f-1)-.5),y:g},y=t.portHeight;e[v].mult?b.a.component.icon.drawIcon({props:{point:m,width:7*t.portWidth/6,height:3*y/2,img:e[v].mult}},t,e[v].name):b.a.component.rect.drawRect({props:{point:m,width:t.portWidth,height:y,radius:t.portRadius,style:{fillStyle:t.disable?c!==ot.type.UNRUN?nt:it:"data"===e[v].type?tt:et},fill:!0}},t,e[v].name),h.set(e[v].name,m),b.a.component.tooltip.drawTooltip({props:{point:{x:m.x,y:m.y-t.portHeight/2-t.betweenPortWidthTooltip},position:b.a.component.tooltip.BOTTOM,text:e[v].tooltip||e[v].name,trangleSize:t.tipTrangleSize,radius:t.tooltipRadius,padding:t.tooltipPadding,containerStyle:{fillStyle:V},textStyle:{font:t.tooltipFont+"px "+U,fillStyle:q}},zindex:1,visiable:!1},t,e[v].name+"Tooltip")}if(n.length>0)for(var x=n.length,I=o+l/2,A=0;A<x;A++){var N={x:1===x?i:i+s/2*(A/(x-1)-.5),y:I},_=t.portHeight;n[A].mult?b.a.component.icon.drawIcon({props:{point:N,width:7*t.portWidth/6,height:3*_/2,img:n[A].mult}},t,n[A].name):b.a.component.rect.drawRect({props:{point:N,width:t.portWidth,height:_,radius:t.portRadius,style:{fillStyle:t.disable?c!==ot.UNRUN?nt:it:"data"===n[A].type?tt:et},fill:!0}},t,n[A].name),h.set(n[A].name,N),b.a.component.tooltip.drawTooltip({props:{point:{x:N.x,y:N.y+t.portHeight/2+t.betweenPortWidthTooltip},position:b.a.component.tooltip.UP,text:n[A].tooltip||n[A].name,trangleSize:t.tipTrangleSize,radius:t.tooltipRadius,padding:t.tooltipPadding,containerStyle:{fillStyle:V},textStyle:{font:t.tooltipFont+"px "+U,fillStyle:q}},zindex:1,visiable:!1},t,n[A].name+"Tooltip")}t.$meta.set("port",h)}var lt=ot,ct=n("PpD2"),ht=!1,ut=2,dt=22,pt=5,ft=20,gt=15,vt=30,mt=50;function yt(){var t=this,e=t.dagInfo,n=t.images;t.lineWidthForLinking=t.lineWidthForLinking||ut,t.padding=t.padding||dt,t.paddingHeight=t.paddingHeight||pt,t.fontSizeForContent=t.fontSizeForContent||R,t.toppest=t.toppest||{x:t.$canvas.width/2,y:ft},t.componentBetween=t.componentBetween||gt,t.innerBetween=t.innerBetween||vt,t.levelBetween=t.levelBetween||mt,t.info=new xt(t,e,n),t.info.resetting(),t.$meta.set("clear",t.info.getStyleOfDag()),t._inited=!0}var bt={drawDiagram:function(t,e,n){return t.canvas=e?e._$canvas:t.canvas,t.struct=yt,e?(n||(n=b.a.getUUID("progress")),e.drawLayer(n,t),n):new b.a(t)},SUCCESS:lt.type.SUCCESS,FAIL:lt.type.FAIL,RUNNING:lt.type.RUNNING,UNRUN:lt.type.UNRUN,explaination:xt,events:{scale:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:0,y:0},n=arguments[2],i=this,o=i.$meta.get("$translate")||{x:0,y:0};e={x:e.x-o.x,y:e.y-o.y},i.setCus("scale",function(){i.toppest=b.a.scaleDistanceForPoint(i.toppest,e,t),i.padding=b.a.toFixed(i.padding*t),i.paddingHeight=b.a.toFixed(i.paddingHeight*t),i.fontSizeForContent=b.a.toFixed(i.fontSizeForContent*t),i.lineWidthForLinking=b.a.toFixed(i.lineWidthForLinking*t),i.componentBetween=b.a.toFixed(i.componentBetween*t),i.innerBetween=b.a.toFixed(i.innerBetween*t),i.levelBetween=b.a.toFixed(i.levelBetween*t),n&&n.call(i)})},toSuccess:function(t,e){lt.animations.toNewType.call(this.$children.get(t),lt.type.SUCCESS,e)},toComplete:function(t,e){lt.animations.toNewType.call(this.$children.get(t),lt.type.SUCCESS,e)},toFail:function(t,e){lt.animations.toNewType.call(this.$children.get(t),lt.type.FAIL,e)},toFailed:function(t,e){lt.animations.toNewType.call(this.$children.get(t),lt.type.FAIL,e)},toCanceled:function(t,e){lt.animations.toNewType.call(this.$children.get(t),lt.type.FAIL,e)},toCancel:function(t,e){lt.animations.toNewType.call(this.$children.get(t),lt.type.FAIL,e)},toError:function(t,e){lt.animations.toNewType.call(this.$children.get(t),lt.type.FAIL,e)},toRunning:function(t,e){lt.animations.toNewType.call(this.$children.get(t),lt.type.RUNNING,e)},toWaiting:function(t){lt.animations.toNewType.call(this.$children.get(t),lt.type.UNRUN)},toUnrun:function(t){lt.animations.toNewType.call(this.$children.get(t),lt.type.UNRUN)},toType:function(t){for(var e in t)lt.animations.toNewType.call(this.$children.get(e),t[e].type,t[e].props)},lineBright:function(t){var e=this;this._lineBright=t;var n=[];this.$children.forEach(function(i,o){if(t&&o===t)i.$zindex=2;else if(t&&o.match(t)&&!o.match("_"+t)&&!o.match(t+"_")){var a=o.split("|");a.splice(a.indexOf(t),1),i.$zindex=1,i.style.strokeStyle="#578FFF",i.style.lineWidth*=1.5,e.$children.get(a[0]).containerLightUp="#578FFF",e.$children.get(a[0]).$struct(),n.push(a[0])}else o.match("line")?(i.$zindex=0,i.style.strokeStyle="#BBBBC8",i.style.lineWidth=e.lineWidthForLinking):n.indexOf(o)<0&&(i.$zindex=1,i.containerLightUp="")})}}},xt=function(){function t(e,n){v()(this,t),this.level=[],this.root=[],this.linking={},this.components=new d.a,this.size=0,this.lay=e,this.checkNewPort(n.dependencies),this.componentInfo(n.component_list),this.componentDisable(n.component_need_run),this.componentBelone(n.component_module,n.dependencies),this.componentLink(n.dependencies)}return y()(t,[{key:"checkNewPort",value:function(t){ht=!(f()(t).length>0)||!!t[f()(t)[0]][0].up_output_info}},{key:"componentInfo",value:function(t){var e=!0,n=!1,i=void 0;try{for(var o,a=h()(t);!(e=(o=a.next()).done);e=!0){var r=o.value;this.components.set(r.component_name,new It(r))}}catch(t){n=!0,i=t}finally{try{!e&&a.return&&a.return()}finally{if(n)throw i}}}},{key:"componentDisable",value:function(t){for(var e in t)this.components.get(e).setDisable(!t[e]),this.components.get(e).setImage(this.lay.images)}},{key:"componentBelone",value:function(t,e){for(var n in t)this.components.get(n).setBelone(t[n],this.lay.images,e)}},{key:"componentLink",value:function(t){var e=this,n=function t(n){for(var i in e.linking){var o=!0,a=!1,r=void 0;try{for(var s,l=h()(e.linking[i]);!(o=(s=l.next()).done);o=!0){var c=s.value;if(c.components[0]===n){var u=e.components.get(c.components[0]),d=e.components.get(c.components[1]);d.level<=u.level&&(d.level=u.level+1,t(c.components[1]))}}}catch(t){a=!0,r=t}finally{try{!o&&l.return&&l.return()}finally{if(a)throw r}}}};for(var i in t){var o=!0,a=!1,r=void 0;try{for(var s,l=h()(t[i]);!(o=(s=l.next()).done);o=!0){var c=s.value;this.linking[c.type]=this.linking[c.type]||[],this.linking[c.type].push({components:[c.component_name,i],outputType:c.up_output_info?c.up_output_info.join(""):c.type+"0"}),n(c.component_name)}}catch(t){a=!0,r=t}finally{try{!o&&l.return&&l.return()}finally{if(a)throw r}}}var u=!0,d=!1,p=void 0;try{for(var f,g=h()(this.components);!(u=(f=g.next()).done);u=!0){var v=f.value;this.level[v[1].level]=this.level[v[1].level]||[],this.level[v[1].level].push(v[1]),0===v[1].level&&this.root.push(v[1])}}catch(t){d=!0,p=t}finally{try{!u&&g.return&&g.return()}finally{if(d)throw p}}}},{key:"componentCheckWidthAndHeight",value:function(){var t="",e=!0,n=!1,i=void 0;try{for(var o,a=h()(this.components);!(e=(o=a.next()).done);e=!0){var r=o.value;r[0].length>t.length&&(t=r[0])}}catch(t){n=!0,i=t}finally{try{!e&&a.return&&a.return()}finally{if(n)throw i}}var s=Object(w.b)(this.lay.$ctx,t,{font:this.lay.fontSizeForContent+"px "+U}),l=Math.ceil(s.width)+2*this.lay.padding,c=this.lay.fontSizeForContent+2*this.lay.paddingHeight;this.compWidth=l,this.compHeight=c;var u=!0,d=!1,p=void 0;try{for(var f,g=h()(this.components);!(u=(f=g.next()).done);u=!0){var v=f.value;v[1].width=l,v[1].height=c}}catch(t){d=!0,p=t}finally{try{!u&&g.return&&g.return()}finally{if(d)throw p}}}},{key:"checkPos",value:function(){var t=this.lay;if(!t._inited){var e=this.getStyleOfDag();e.height<t.$canvas.height-2*t.toppest.y&&(t.toppest.y=(t.$canvas.height-e.height)/2)}var n=this.lay.toppest.y,i=this.compWidth,o=this.compHeight,a=this.lay.toppest.x,r=function(e,n,r){return{x:a-(n-1)*(i+t.componentBetween)/2+r*(i+t.componentBetween),y:r*(o+t.innerBetween)+e+o/2}},s=!0,l=!1,c=void 0;try{for(var u,d=h()(this.level);!(s=(u=d.next()).done);s=!0){for(var p=u.value,f=0;f<p.length;f++)p[f].setPos(r(n,p.length,f));n=p[p.length-1].point.y+this.lay.levelBetween+o/2}}catch(t){l=!0,c=t}finally{try{!s&&d.return&&d.return()}finally{if(l)throw c}}}},{key:"componentGetInstance",value:function(){var t=!0,e=!1,n=void 0;try{for(var i,o=h()(this.components);!(t=(i=o.next()).done);t=!0){i.value[1].getComponentInstance(this.lay)}}catch(t){e=!0,n=t}finally{try{!t&&o.return&&o.return()}finally{if(e)throw n}}}},{key:"getLinking",value:function(){for(var t in this.linkPos={},this.linking){this.linkPos[t]=this.linkPos[t]||[];var e=!0,n=!1,i=void 0;try{for(var o,a=h()(this.linking[t]);!(e=(o=a.next()).done);e=!0){var r=o.value,s={line:[],name:""};s.line.push(this.lay.$children.get(r.components[0]).$meta.get("port").get(r.outputType+"output")),s.line.push(this.lay.$children.get(r.components[1]).$meta.get("port").get(t+"input"));var l=this.components.get(r.components[0]),c=this.components.get(r.components[1]);s.name=l.name+"|"+c.name+"|"+r.outputType+"|"+t+"|line",s.corssLevel=c.level-l.level>=2,this.linkPos[t].push(s)}}catch(t){n=!0,i=t}finally{try{!e&&a.return&&a.return()}finally{if(n)throw i}}}}},{key:"getLinkInstance",value:function(){for(var t in this.linkPos){var e=!0,n=!1,i=void 0;try{for(var o,a=h()(this.linkPos[t]);!(e=(o=a.next()).done);e=!0){var r=o.value,s=this.lay.levelBetween,l=!!r.corssLevel&&(t.match("data")?-this.compWidth/3:this.compWidth/3),c=Object(ct.a)(r.line[0],r.line[1],l,s);b.a.component.line.drawLine({props:{point:c,curve:!0,stroke:!0,style:{lineWidth:this.lay.lineWidthForLinking*(this.lay._lineBright&&r.name.match(this.lay._lineBright)?1.5:1),strokeStyle:this.lay._lineBright&&r.name.match(this.lay._lineBright)?"#578FFF":"#BBBBC8"}}},this.lay,r.name)}}catch(t){n=!0,i=t}finally{try{!e&&a.return&&a.return()}finally{if(n)throw i}}}}},{key:"getStyleOfDag",value:function(){var t=0,e=0,n=!0,i=!1,o=void 0;try{for(var a,r=h()(this.level);!(n=(a=r.next()).done);n=!0){var s=a.value;s.length>t&&(t=s.length),e+=s.length*this.compHeight+(s.length-1)*this.lay.innerBetween+this.lay.levelBetween}}catch(t){i=!0,o=t}finally{try{!n&&r.return&&r.return()}finally{if(i)throw o}}return e-=this.lay.levelBetween,{width:t*this.compWidth+(t-1)*this.lay.componentBetween,height:e}}},{key:"resetting",value:function(){this.componentCheckWidthAndHeight(),this.checkPos(),this.componentGetInstance(),this.getLinking(),this.getLinkInstance()}}]),t}(),It=function(){function t(e){v()(this,t),this.name=e.component_name,this.time=e.time,this.images=null,this.type=this.getStatus(e.status||"unrun"),this.level=0,this.width=0,this.height=0}return y()(t,[{key:"getStatus",value:function(t){var e=t.toUpperCase();return lt.type.SUCCESS.indexOf(e)>=0?lt.type.SUCCESS:lt.type.FAIL.indexOf(e)>=0?lt.type.FAIL:lt.type.RUNNING.indexOf(e)>=0?lt.type.RUNNING:lt.type.UNRUN}},{key:"setDisable",value:function(t){this.disable=t}},{key:"setImage",value:function(t){this.img=t.get((this.disable?"DISABLE_":"")+this.type.split("|")[0])}},{key:"setBelone",value:function(t,e,n){this.belone=t,this.setPort(e,n)}},{key:"setPos",value:function(t){this.point=t}},{key:"checkSetPort",value:function(t,e,n){var i=ht?["secureboost","linr","lr","poisson","heteronn","homonn","localbaseline","fm","mf","svd","scdpp","gmf","ftl","psi","kmeans"]:["none"],o=n[t];if(n[t]&&n[t].length>0){var a=!0,r=!1,s=void 0;try{for(var l,c=h()(o);!(a=(l=c.next()).done);a=!0){var u=l.value;if(["model","data"].indexOf(u.type)<0)return!0}}catch(t){r=!0,s=t}finally{try{!a&&c.return&&c.return()}finally{if(r)throw s}}return!1}return e.toLowerCase().match(new RegExp("("+i.join("|")+")","i"))}},{key:"setPort",value:function(t,e){this.input=this.input||[],this.output=this.output||[];var n,i,o;this.checkSetPort(this.name,this.belone,e)?(n=this.input).push.apply(n,[{name:"train_datainput",tooltip:"Train Data Input",type:"data"},{name:"validate_datainput",tooltip:"Validation Data Input",type:"data"}]):this.belone.toLowerCase().match("reader")||this.input.push({name:"datainput",tooltip:"Data Input",type:"data"});(this.belone.toLowerCase().match(/evaluation|union/i)&&(this.input[0].mult=t.get("MULT_DATA_PORT")),this.belone.toLowerCase().match(/(evaluation|upload|download|pearson|datasplit|statistics|psi|kmeans)/i)||this.output.push({name:"data0output",tooltip:"Data Output",type:"data"}),this.belone.toLowerCase().match(/(kmeans)/i))&&(i=this.output).push.apply(i,[{name:"data0output",tooltip:"Data Output_0",type:"data"},{name:"data1output",tooltip:"Data Output_1",type:"data"}]);this.belone.toLowerCase().match(/(datasplit)/i)&&(o=this.output).push.apply(o,[{name:"data0output",tooltip:"Train Data Output",type:"data"},{name:"data1output",tooltip:"Validation Data Output",type:"data"},{name:"data2output",tooltip:"Test Data Output",type:"data"}]);this.belone.toLowerCase().match(/(intersection|federatedsample|evaluation|upload|download|rsa|datasplit|reader|union|scorecard|sampleweight)/i)||(this.belone.toLowerCase().match(/(statistics|pearson|psi)/i)||this.input.push({name:"modelinput",tooltip:"Model Input",type:"model"}),this.output.push({name:"model0output",tooltip:"Model Output",type:"model"}),this.belone.toLowerCase().match(/(selection)/i)&&(this.input[1].mult=t.get("MULT_MODEL_PORT")))}},{key:"getComponentInstance",value:function(t){lt.drawProgress({props:{point:this.point,text:this.name,width:this.width,height:this.height,type:t.$children.get(this.name)?t.$children.get(this.name).type:this.type,disable:this.disable,input:this.input,output:this.output,specialDataInput:this.specialDataInput,contentFontSize:t.fontSizeForContent,time:t.$children.get(this.name)?t.$children.get(this.name).time:this.time,img:this.img},zindex:1,events:lt.events},t,this.name)}}]),t}(),wt={name:"FlowDiagram",props:{dagInfo:{type:Object,default:function(){}},purePic:{type:Boolean,default:!1},thumbnail:{type:Boolean,default:!1},operationList:{type:Boolean,default:!0}},data:function(){return{dagCheck:null,flowData:null,images:new d.a,thumb:.6,canvasId:"flowDiagramCanvas",canvas:null,choosed:null,needToSet:[],originalSetting:null,imageSetting:[{name:"COMPLETE",url:n("NdWW")},{name:"DISABLE_COMPLETE",url:n("6Ix9")},{name:"SUCCESS",url:n("NdWW")},{name:"DISABLE_SUCCESS",url:n("6Ix9")},{name:"FAIL",url:n("U8kZ")},{name:"DISABLE_FAIL",url:n("+998")},{name:"CANCEL",url:n("U8kZ")},{name:"DISABLE_CANCEL",url:n("+998")},{name:"CANCELED",url:n("U8kZ")},{name:"DISABLE_CANCELED",url:n("+998")},{name:"ERROR",url:n("U8kZ")},{name:"DISABLE_ERROR",url:n("+998")},{name:"FAILED",url:n("U8kZ")},{name:"DISABLE_FAILED",url:n("+998")},{name:"MULT_DATA_PORT",url:n("l489")},{name:"MULT_MODEL_PORT",url:n("iA7x")}]}},watch:{dagInfo:{handler:function(){this.checkInfo(),this.checkFlowData(),this.canvas&&this.canvas.inited||this.initing(),this.toSetting(),this.checkChoosed()},deep:!0}},created:function(){this.canvasId=b.a.getUUID("flowDiagramCanvas"),this.checkInfo(),this.checkFlowData()},mounted:function(){var t=this;this.addedImages(this.imageSetting).then(function(){t.initing()})},methods:{initing:function(){if(!this.dagInfo)throw new TypeError("Daginfo param need to be an Object");var t=document.getElementById(this.canvasId);if(!t)throw new Error("Can not found canvas-element");this.originalSetting=this.dagInfo,this.drawComp(t,this.images)},drawComp:function(t,e){var n=this,i=this,o=this.purePic?{click:!1}:{click:{beforeClick:function(){bt.events.lineBright.call(i.component)},props:[function(t,e,o){if(o)n.$emit("retry",t);else{e&&bt.events.lineBright.call(i.component,t);var a=0,r="";i.dagInfo.component_list.map(function(e,n){e.component_name===t&&(a=n,r=e.status)});var s={name:t,dataIndex:a,model:i.dagInfo.component_module[t],disable:!i.dagInfo.component_need_run[t],status:r};e&&(i.choosed=s,i.$emit("choose",s))}}]}};i.canvas=new b.a.CanvasUtil(t,o,function(t){return i.getInstance(t,e),i.component.drawing(),i.thumbnail&&i.checkThumbnail(),i.component})},getInstance:function(t,e){if(!t)return null;this.component=bt.drawDiagram({canvas:t,props:{dagInfo:this.flowData,thumbnail:this.thumbnail?this.thumb:1,images:e},clear:bt.clear,events:bt.events})},checkInfo:function(){var t=this.dagCheck||{};if(this.dagInfo){var e=!0,n=!1,i=void 0;try{for(var o,a=h()(this.dagInfo.component_list);!(e=(o=a.next()).done);e=!0){var r=o.value,s=r.status||"unrun";t[r.component_name]?s!==t[r.component_name].status&&(this.needToSet.push(r.component_name),t[r.component_name].status=s,t[r.component_name].time=r.time):t[r.component_name]={status:s.charAt(0).toUpperCase()+s.slice(1),time:r.time}}}catch(t){n=!0,i=t}finally{try{!e&&a.return&&a.return()}finally{if(n)throw i}}if(this.dagInfo.component_need_run)for(var l in this.dagInfo.component_need_run)t[l].disable=this.dagInfo.component_need_run[l]}this.dagCheck=t},checkFlowData:function(){if(this.dagInfo){var t=JSON.parse(l()(this.dagInfo)),e=!0,n=!1,i=void 0;try{for(var o,a=h()(t.component_list);!(e=(o=a.next()).done);e=!0){var s=o.value;s.status=(s.status||"unrun").toUpperCase()}}catch(t){n=!0,i=t}finally{try{!e&&a.return&&a.return()}finally{if(n)throw i}}this.flowData?this.flowData=r()(this.flowData,t):this.flowData=t}},toSetting:function(){if(this.component){var t=!0,e=!1,n=void 0;try{for(var i,o=h()(this.needToSet);!(t=(i=o.next()).done);t=!0){var a=i.value,r=bt.RUNNING.match(this.dagCheck[a].status.toUpperCase())?this.dagCheck[a].time:this.images.get((this.dagCheck[a].disable?"":"DISABLE_")+this.dagCheck[a].status.toUpperCase());this.component.emit("to"+(this.dagCheck[a].status.charAt(0).toUpperCase()+this.dagCheck[a].status.slice(1)),a,r)}}catch(t){e=!0,n=t}finally{try{!t&&o.return&&o.return()}finally{if(e)throw n}}this.needToSet=[]}},checkChoosed:function(){if(this.choosed){var t=this.dagInfo.component_list[this.choosed.dataIndex];t.component_name===this.choosed.name&&t.status!==this.choosed.status&&(this.choosed.status=t.status,this.$emit("choose",this.choosed))}},checkThumbnail:function(){this.component.emit("scale",this.thumb,this.component.toppest),this.component._inited=!1},initImage:function(t,e){var n=this;return new o.a(function(i,o){var a=new Image;a.onload=function(){n.images.set(t,a),i()},a.src=e})},addedImages:function(t){var e=[],n=!0,i=!1,a=void 0;try{for(var r,s=h()(t);!(n=(r=s.next()).done);n=!0){var l=r.value;e.push(this.initImage(l.name,l.url))}}catch(t){i=!0,a=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}return o.a.all(e)},suitableWhole:function(){var t=this;this.canvas.suitableForWhole(function(){var e=t.component.$meta.get("clear"),n=t.component.toppest;return{width:e.width,height:e.height,point:n}},function(){t.component.toppest={x:t.canvas.canvasDom.width/2,y:20},t.component._inited=!1})},bigger:function(){this.canvas.scaleBigger()},small:function(){this.canvas.scaleSmaller()}}},Ct=(n("bw2v"),n("KHd+")),Tt=Object(Ct.a)(wt,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("canvas",{attrs:{id:t.canvasId}}),t._v(" "),t.operationList?n("div",{staticClass:"buttonList"},[n("div",{staticClass:"opera_btn",on:{click:t.suitableWhole}},[n("i",{staticClass:"el-icon-full-screen"})]),t._v(" "),n("div",{staticClass:"opera_btn",on:{click:t.bigger}},[n("i",{staticClass:"el-icon-plus"})]),t._v(" "),n("div",{staticClass:"opera_btn",on:{click:t.small}},[n("i",{staticClass:"el-icon-minus"})])]):t._e()])},[],!1,null,"2d801b92",null);Tt.options.__file="index.vue";e.a=Tt.exports},lJfc:function(t,e,n){"use strict";var i=n("p9cb");n.n(i).a},m1cH:function(t,e,n){"use strict";e.__esModule=!0;var i=function(t){return t&&t.__esModule?t:{default:t}}(n("rfXi"));e.default=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,i.default)(t)}},mWkO:function(t,e,n){"use strict";var i=n("eOYL"),o=n("PpD2"),a=n("UVkp"),r={drawArc:function(t,e,n){return t.canvas=e?e.$canvas:t.canvas,t.path=s,e?(n||(n=i.a.getUUID("circle")),e.drawLayer(n,t),n):new i.a(t)},LEFT_UP:a.a.LEFT_UP,RIGHT_UP:a.a.RIGHT_UP,LEFT_DOWN:a.a.LEFT_DOWN,RIGHT_DOWM:a.a.RIGHT_DOWM};function s(){var t=this,e=t.point.x||t.point[0]||0,n=t.point.y||t.point[1]||0,o=t.radius;t.position===r.LEFT_UP?t.point={x:e+o,y:n+o}:t.position===r.RIGHT_UP?t.point={x:e,y:n+o}:t.position===r.LEFT_DOWN&&(t.point={x:e+o,y:n}),function(t){i.a.commonDrawing(t,function(e){var n=t.point.x||t.point[0]||0,i=t.point.y||t.point[1]||0,o=t.radius,r=t.sAngle||a.a._SANGLE,s=t.eAngle||a.a._EANGLE,l=!!t.wise;e.arc(n,i,o,r,s,l)})}.call(t)}var l=r,c={drawRect:function(t,e,n){return t.canvas=e?e.$canvas:t.canvas,t.path=u,t.here=h,e?(n||(n=i.a.getUUID("rect")),e.drawLayer(n,t),n):new i.a(t)},LEFT_UP:a.a.LEFT_UP,RIGHT_UP:a.a.RIGHT_UP,LEFT_DOWN:a.a.LEFT_DOWN,RIGHT_DOWN:a.a.RIGHT_DOWN,CENTER:a.a.CENTER};function h(t){var e=this,n=e.point.x||e.point[0]||0,i=e.point.y||e.point[1]||0,o=e.width,a=e.height,r={};r=e.position===c.LEFT_UP?{x:n+o/2,y:i+a/2}:e.position===c.RIGHT_UP?{x:n-o/2,y:i+a/2}:e.position===c.LEFT_DOWN?{x:n+o/2,y:i-a/2}:e.position===c.RIGHT_DOWN?{x:n-o/2,y:i-a/2}:{x:n,y:i};var s=e.$meta.get("$translate")||{x:0,y:0},l=(t.x||t[0]||0)-s.x,h=(t.y||t[1]||0)-s.y;return l>=r.x-o/2&&l<=r.x+o/2&&h>=r.y-a/2&&h<=r.y+a/2}function u(){var t=this,e=t.point.x||t.point[0]||0,n=t.point.y||t.point[1]||0,o=t.width,a=t.height;t.position===c.LEFT_UP?t.point={x:e+o/2,y:n+a/2}:t.position===c.RIGHT_UP?t.point={x:e-o/2,y:n+a/2}:t.position===c.LEFT_DOWN?t.point={x:e+o/2,y:n-a/2}:t.position===c.RIGHT_DOWN&&(t.point={x:e-o/2,y:n-a/2}),function(){var t=this;i.a.commonDrawing(t,function(e){var n=t.point.x||t.point[0]||0,i=t.point.y||t.point[1]||0,o=t.radius,a=t.width,r=t.height,s=0===t.progress?0:t.progress?t.progress:1;if(s<=0)return;var l=n-a/2,c=i-r/2+o;e.moveTo(l,c);var h=l+o,u=c,d=1*Math.PI,p=a*s<o?d+Math.acos((o-a*s)/o):1.5*Math.PI;e.arc(h,u,o,d,p,!1),a*s>o?(l=a*s>a-o?l+a-2*o:l+a*s,c-=o,e.lineTo(l,c),a*s>a-o?(h=l,u=c+o,d=1.5*Math.PI,p=s<1?d+Math.acos((o-(a-a*s))/o):0,e.arc(h,u,o,d,p,!1),l+=o-(a-a*s),c=c+r-o-Math.cos(.5*Math.PI-Math.acos((o-(a-a*s))/o))*o,e.lineTo(l,c),u=u+r-2*o,d=0,p=s<1?d+Math.acos((o-(a-a*s))/o):.5*Math.PI,e.arc(h,u,o,d,p,!1),l=h-a+3*o,c=u+o,e.lineTo(l,c)):(c+=r,e.lineTo(l,c),l=l-a*s+o,e.lineTo(l,c)),h=l,u=c-o,e.arc(h,u,o,.5*Math.PI,1*Math.PI,!1)):(l+=a*s,c=c+r-2*o+Math.sin(.5*Math.PI-Math.acos((o-a*s)/o))*o,e.lineTo(l,c),u=u+r-2*o,d=1*Math.PI-Math.acos((o-a*s)/o),p=1*Math.PI,e.arc(h,u,o,d,p,!1));l=n-a/2,c=i-r/2+o,e.lineTo(l,c)})}.call(t)}var d=c,p=n("UMXJ"),f=n("FyfS"),g=n.n(f),v={drawTrangle:function(t,e,n){return t.canvas=e?e.$canvas:t.canvas,t.path=m,e?(n||(n=i.a.getUUID("trangle")),e.drawLayer(n,t),n):new i.a(t)},LEFT:a.a.LEFT,RIGHT:a.a.RIGHT,UP:a.a.CENTER,BOTTOM:a.a.BOTTOM};function m(){this.height?function(){var t=this;i.a.commonDrawing(t,function(e){var n=Math.tan(30*Math.PI/180)*t.height,i=[],o=t.point.x||t.point[0]||0,a=t.point.y||t.point[1]||0;i.push(t.point),t.position===v.LEFT?i.push.apply(i,[{x:o+t.height,y:a-n},{x:o+t.height,y:a+n}]):t.position===v.RIGHT?i.push.apply(i,[{x:o-t.height,y:a-n},{x:o-t.height,y:a+n}]):t.position===v.BOTTOM?i.push.apply(i,[{x:o-n,y:a-t.height},{x:o+n,y:a-t.height}]):i.push.apply(i,[{x:o-n,y:a+t.height},{x:o+n,y:a+t.height}]);var r=0,s=!0,l=!1,c=void 0;try{for(var h,u=g()(i);!(s=(h=u.next()).done);s=!0){var d=h.value,p=d.x||d[0]||0,f=d.y||d[1]||0;0===r?e.moveTo(p,f):e.lineTo(p,f),r++}}catch(t){l=!0,c=t}finally{try{!s&&u.return&&u.return()}finally{if(l)throw c}}var m=t.point.x||t.point[0]||0,y=t.point.y||t.point[1]||0;e.lineTo(m,y)})}.call(this):function(){var t=this;i.a.commonDrawing(t,function(e){var n=0,i=!0,o=!1,a=void 0;try{for(var r,s=g()(t.point);!(i=(r=s.next()).done);i=!0){var l=r.value,c=l.x||l[0]||0,h=l.y||l[1]||0;0===n?e.moveTo(c,h):e.lineTo(c,h),n++}}catch(t){o=!0,a=t}finally{try{!i&&s.return&&s.return()}finally{if(o)throw a}}var u=t.point[0].x||t.point[0][0]||0,d=t.point[0].y||t.point[0][1]||0;e.lineTo(u,d)})}.call(this)}var y=v,b=5,x={drawTooltip:function(t,e,n){return t.canvas=e?e.$canvas:t.canvas,t.struct=w,t.here=I,e?(n||(n=i.a.getUUID("tooltip")),e.drawLayer(n,t),n):new i.a(t)},here:I,LEFT:a.a.LEFT,RIGHT:a.a.RIGHT,UP:a.a.CENTER,BOTTOM:a.a.BOTTOM,TEXT:{LEFT:p.a.LEFT,RIGHT:p.a.RIGHT,CENTER:p.a.CENTER},events:{scale:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:0,y:0},n=this;n.setCus("scale",function(){if(n.point=i.a.scaleDistanceForPoint(n.point,e,t),n.width&&(n.width=i.a.toFixed(n.width*t)),n.height&&(n.height=i.a.toFixed(n.height*t)),n.padding&&(n.padding=i.a.toFixed(n.padding*t)),n.trangleSize&&(n.trangleSize=i.a.toFixed(n.trangleSize*t)),n.textStyle.font){var o=parseFloat(n.textStyle.font);n.textStyle.font=n.textStyle.font.replace(o,i.a.toFixed(o*t))}n.linebetween=i.a.toFixed(n.linebetween*t),n.radius=i.a.toFixed((n.radius||4)*t)})}}};function I(t){return!1}function w(){var t=this;t.linebetween=t.linebetween||b;var e=t.point.x||t.point[0]||0,n=t.point.y||t.point[1]||0,i={x:e,y:n},o={},r=0;t.text=Array.isArray(t.text)?t.text:[t.text];var s=!0,l=!1,c=void 0;try{for(var h,u=g()(t.text);!(s=(h=u.next()).done);s=!0){var f=h.value,v=Object(p.b)(t.$ctx,f,t.textStyle);Math.ceil(v.width)>r&&(r=Math.ceil(v.width))}}catch(t){l=!0,c=t}finally{try{!s&&u.return&&u.return()}finally{if(l)throw c}}var m=parseInt(t.textStyle.font)*t.text.length+t.linebetween*(t.text.length-1)+1.5*t.padding,I=r+2*t.padding;t.position===x.RIGHT?(o.x=e-t.trangleSize-I/2,o.y=n):t.position===x.UP?(o.x=e,o.y=n+t.trangleSize+m/2):t.position===x.BOTTOM?(o.x=e,o.y=n-t.trangleSize-m/2):(o.x=e+t.trangleSize+I/2,o.y=n),y.drawTrangle({props:{point:i,height:t.trangleSize,style:t.containerStyle,position:t.position||a.a.LEFT,fill:!0}},this,"trangle"),d.drawRect({props:{point:o,radius:t.radius||4,width:I,height:m,position:d.CENTER,style:t.containerStyle,fill:!0}},this,"rect");for(var w=0;w<t.text.length;w++){var C=o.x,T=o.y;t.textPosition===x.TEXT.LEFT?C-=r/2:t.textPosition===x.TEXT.RIGHT&&(C+=r/2),T-=((t.text.length-1)/2-w)*(parseInt(t.textStyle.font)+t.linebetween),p.a.drawText({props:{text:t.text[w],point:{x:C,y:T},position:t.textPosition||x.TEXT.CENTER,style:t.textStyle}},this,"text"+w)}t.$meta.set("clear",{width:I,height:I+t.trangleSize})}var C=x;function T(t){var e=this.point.x||this.point[0]||0,n=this.point.y||this.point[1]||0,i=this.width,o=this.height||i,a=this.$meta.get("$translate")||{x:0,y:0},r=(t.x||t[0])-a.x,s=(t.y||t[1])-a.y;return r<e+i/2&&r>e-i/2&&s<n+o/2&&s>n-o/2}function S(){!function(t){var e=t.$ctx;e.beginPath();var n=t.point.x||t.point[0]||0,i=t.point.y||t.point[1]||0,o=t.width,a=t.height||o;e.drawImage(t.img,n-o/2,i-a/2,o,a),e.closePath()}(this)}var A={drawIcon:function(t,e,n){return t.canvas=e?e.$canvas:t.canvas,t.path=S,t.here=T,e?(n||(n=i.a.getUUID("icon")),e.drawLayer(n,t),n):new i.a(t)}},N={line:o.b,circle:l,rect:d,text:p.a,trangle:y,tooltip:C,icon:A};i.a.component=N;e.a=i.a},mrrA:function(t,e,n){var i=n("3zkT");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("348bdf84",i,!0,{})},p4fm:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAABHNCSVQICAgIfAhkiAAAAN5JREFUOE+t1OFRwkAQhuH3q0BKsITYAenADjQdQAXYAXRArEStAOzAEqCCj1nnwjAh5k7C/r3cM7t7uxF3CuUc28/Ap6TD2LejkO03YJWgegr0COyBB6CV1PyFlZRWRUYJW0raDGFZKC7ZfgW2CWgktX2sCErYAlgD0fRaUpR8jmIoYZHJS8KeJP100hmy7dwo9M4jo8jsdyymQN/A/AoqycZ2V9oRqAZLy0G2u2YHEpn8v9l3eX7bMZAfwAy4bSBtx4rsEvIuKQZzMEqX9kvS/OalTUM4/TeSe8nL8xMNbVYTNUdb2gAAAABJRU5ErkJggg=="},p9cb:function(t,e,n){var i=n("xWUn");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("12416102",i,!0,{})},qVEv:function(t,e,n){var i=n("0snz");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("7870dd77",i,!0,{})},rVsi:function(t,e,n){"use strict";var i=n("WOIZ");n.n(i).a},rs0g:function(t,e,n){"use strict";var i=n("mrrA");n.n(i).a},sEfC:function(t,e,n){var i=n("GoyQ"),o=n("QIyF"),a=n("tLB3"),r="Expected a function",s=Math.max,l=Math.min;t.exports=function(t,e,n){var c,h,u,d,p,f,g=0,v=!1,m=!1,y=!0;if("function"!=typeof t)throw new TypeError(r);function b(e){var n=c,i=h;return c=h=void 0,g=e,d=t.apply(i,n)}function x(t){var n=t-f;return void 0===f||n>=e||n<0||m&&t-g>=u}function I(){var t=o();if(x(t))return w(t);p=setTimeout(I,function(t){var n=e-(t-f);return m?l(n,u-(t-g)):n}(t))}function w(t){return p=void 0,y&&c?b(t):(c=h=void 0,d)}function C(){var t=o(),n=x(t);if(c=arguments,h=this,f=t,n){if(void 0===p)return function(t){return g=t,p=setTimeout(I,e),v?b(t):d}(f);if(m)return clearTimeout(p),p=setTimeout(I,e),b(f)}return void 0===p&&(p=setTimeout(I,e)),d}return e=a(e)||0,i(n)&&(v=!!n.leading,u=(m="maxWait"in n)?s(a(n.maxWait)||0,e):u,y="trailing"in n?!!n.trailing:y),C.cancel=function(){void 0!==p&&clearTimeout(p),g=0,c=f=h=p=void 0},C.flush=function(){return void 0===p?d:w(o())},C}},ujiL:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAABHNCSVQICAgIfAhkiAAAARlJREFUOI29lM9NhEAYxd834eCREixhRxtgDyaDyRA6WErADuxg7cC1giWaIAkHtQB2KGFLgJMX4PPA+h9hgsZ3nTe/fO97kwH+S742oRcad8onxg5VUFyCeHvU8vZXIAixYXBNBE/p4no2KEvkvm2E18Mo8nURz5sIQJ7KEix6ANFaaRMN+WgK9CpfFzGI1gCqpqFlnspyFggAVLDbELACULEgmSVy/w3kBzu2ovHbrfJZ0PIxkRVgsaMfefw5zaxoDK4hxOJjNMcWcqh+xeC6bYSXp+8QwDKa0iY6NAawiL82BlhEOzs3C8fhBwAumC/u706vhnyjIBWaY+rYAHAZuMluTwYfIzAVreuifhI8jUGsZPuN/JleAIACacrBlaPxAAAAAElFTkSuQmCC"},"uy/s":function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".container[data-v-2d801b92] {\n  width: 100%;\n  height: 100%;\n  position: relative;\n}\n.buttonList[data-v-2d801b92] {\n  position: absolute;\n  bottom: 10px;\n  left: 10px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n.buttonList .opera_btn[data-v-2d801b92] {\n    width: 32px;\n    height: 32px;\n    border-radius: 4px;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    -webkit-box-pack: center;\n        -ms-flex-pack: center;\n            justify-content: center;\n    background-color: #f8f8fa;\n    margin-bottom: 12px;\n    color: #bbbbc8;\n}\n.buttonList .opera_btn[data-v-2d801b92]:hover {\n      background-color: #494ece;\n      color: #fff;\n}\n.buttonList .opera_btn[data-v-2d801b92]:last-child {\n      margin-bottom: 0px;\n}\n",""])},xWUn:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".dashboard-container {\n  height: 100%;\n}\n.dashboard-container .dash-board-list .col {\n    height: 346px;\n    background: #fff;\n}\n.dashboard-container .dash-board-list .col .list-title {\n      font-family: 'roboto_bold';\n      padding-top: 12px;\n      font-size: 16px;\n      color: #3e4052;\n      text-indent: 24px;\n}\n.dashboard-container .dash-board-list .col .echarts-container {\n      width: 100%;\n      height: 100%;\n      position: relative;\n}\n.dashboard-container .dash-board-list .dataset-info {\n    -webkit-box-orient: vertical;\n    -webkit-box-direction: normal;\n        -ms-flex-direction: column;\n            flex-direction: column;\n    font-family: 'roboto_medium';\n}\n.dashboard-container .dash-board-list .dataset-info .dataset-row {\n      margin-top: 30px;\n      margin-left: 48px !important;\n}\n.dashboard-container .dash-board-list .dataset-info .dataset-row:first-of-type {\n        margin-top: 32px;\n}\n.dashboard-container .dash-board-list .dataset-info .dataset-row .dataset-item {\n        margin-bottom: 30px;\n}\n.dashboard-container .dash-board-list .dataset-info .dataset-row .dataset-item .name {\n          font-size: 14px;\n          margin-bottom: 6px;\n          color: #999BA3;\n}\n.dashboard-container .dash-board-list .dataset-info .dataset-row .dataset-item .dataset-title {\n          color: #999BA3;\n}\n.dashboard-container .dash-board-list .dataset-info .dataset-row .dataset-item .value {\n          font-size: 14px;\n          color: #3E4052;\n          overflow: hidden;\n          white-space: nowrap;\n          text-overflow: ellipsis;\n}\n.dashboard-container .dash-board-list .job .echarts {\n    width: 100%;\n    height: 306px;\n    /*top: 5%;*/\n}\n.dashboard-container .dash-board-list .job .elapsed {\n    position: absolute;\n    top: 0;\n    right: 16px;\n}\n.dashboard-container .dash-board-list .job .elapsed .elapsed-title {\n      margin-right: 14px;\n      margin-bottom: 6px;\n      color: #bbbbc8;\n      text-align: right;\n}\n.dashboard-container .dash-board-list .job .elapsed .elapsed-time {\n      height: 28px;\n      width: 88px;\n      background: #f8f8fa;\n      text-align: center;\n      line-height: 28px;\n      border-radius: 28px;\n      font-size: 16px;\n}\n.dashboard-container .dash-board-list .job .job-end-container {\n    height: 306px;\n}\n.dashboard-container .dash-board-list .job .job-end-container .job-icon {\n      margin-top: 35px;\n      margin-bottom: 36px;\n      font-size: 50px;\n}\n.dashboard-container .dash-board-list .job .job-end-container .job-info {\n      padding: 0 10px;\n}\n.dashboard-container .dash-board-list .job .job-end-container .job-info > li {\n        width: 28%;\n        margin-bottom: 20px;\n        text-align: center;\n}\n.dashboard-container .dash-board-list .job .job-end-container .job-info > li .name {\n          color: #bbbbc8;\n          margin-bottom: 6px;\n}\n.dashboard-container .dash-board-list .job .job-end-container .job-info > li .value {\n          font-size: 14px;\n          font-weight: bold;\n          color: #999BA3;\n}\n.dashboard-container .dash-board-list .job .btn-wrapper {\n    position: absolute;\n    left: 0;\n    bottom: 20px;\n    width: 100%;\n    height: 80px;\n}\n.dashboard-container .dash-board-list .job .btn-wrapper .kill {\n      padding-top: 5px;\n}\n.dashboard-container .dash-board-list .job .btn-wrapper .kill:hover {\n        text-decoration: underline;\n}\n.dashboard-container .dash-board-list .job .btn-wrapper .el-button {\n      padding: 7px 24px 6px;\n      margin-top: 6px;\n      background-color: #DEECFC;\n      color: #4159D1;\n      font-size: 14px;\n      font-weight: bold;\n      border: 0px;\n}\n.dashboard-container .graph {\n    overflow: hidden;\n}\n.dashboard-container .graph .img-wrapper {\n      width: 32px;\n      height: 32px;\n      margin-left: 10px;\n      cursor: pointer;\n      margin-top: 8px;\n      margin-right: 20px;\n}\n.dashboard-container .graph .wrapper {\n      height: 306px;\n}\n.dashboard-container .graph .wrapper .echarts {\n        width: 100%;\n        height: 100%;\n}\n.dashboard-container .log-wrapper {\n    margin: 12px 0 16px;\n    padding: 0 24px 8px;\n    background: #fff;\n    border-radius: 4px;\n    min-height: 400px;\n    height: calc(100% - 410px);\n    width: 100%;\n    position: relative;\n}\n.dashboard-container .log-wrapper .log-type {\n      padding-top: 16px;\n      margin-bottom: 24px;\n}\n.dashboard-container .log-wrapper .log-type .type-name {\n        font-size: 16px;\n        margin-right: 20px;\n        color: #999BA3;\n        font-weight: bold;\n        cursor: pointer;\n}\n.dashboard-container .log-wrapper .log-type .type-name-active {\n        color: #4159D1;\n}\n.dashboard-container .log-wrapper .title {\n      padding-top: 12px;\n      margin-bottom: 15px;\n      font-size: 15px;\n      color: #3E4052;\n      font-family: 'roboto_bold';\n}\n.dashboard-container .log-wrapper .tab-bar {\n      margin-left: 43px;\n}\n.dashboard-container .log-wrapper .tab-bar .tab-btn {\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        font-family: 'roboto_medium';\n        -webkit-box-align: center;\n            -ms-flex-align: center;\n                align-items: center;\n        margin-right: 24px;\n        padding: 0 5px;\n        line-height: 26px;\n        border-radius: 26px;\n        cursor: pointer;\n}\n.dashboard-container .log-wrapper .tab-bar .tab-btn .text {\n          padding: 0 10px;\n          font-size: 14px;\n          color: #6A6C75;\n}\n.dashboard-container .log-wrapper .tab-bar .tab-btn .count {\n          min-width: 16px;\n          height: 16px;\n          padding: 0 5px;\n          border-radius: 2px;\n          line-height: 16px;\n          text-align: center;\n          color: #fff;\n}\n.dashboard-container .log-wrapper .tab-bar .tab-btn .error {\n          background: #ff6464;\n}\n.dashboard-container .log-wrapper .tab-bar .tab-btn .warning {\n          background: #ff5d93;\n}\n.dashboard-container .log-wrapper .tab-bar .tab-btn .info {\n          background: #ffd70d;\n}\n.dashboard-container .log-wrapper .tab-bar .tab-btn .debug {\n          background: #24b68b;\n}\n.dashboard-container .log-wrapper .tab-bar .tab-btn:hover .text {\n          color: #4159D1;\n          text-decoration: underline;\n}\n.dashboard-container .log-wrapper .tab-bar .tab-btn-active .text {\n        color: #4159D1;\n}\n.dashboard-container .log-wrapper .log-container {\n      height: calc(100% - 97px);\n      padding: 0px 12px 0px 0px;\n      margin-top: 15px;\n      overflow: auto;\n}\n.dashboard-container .log-wrapper .log-container .log-list > li {\n        /*height: 25px;*/\n        line-height: 20px;\n        text-indent: 10px;\n}\n.dashboard-container .log-wrapper .log-container .log-list > li .line-num {\n          color: #C6C8CC;\n          min-width: 50px;\n          margin-right: 20px;\n          font-size: 12px;\n          text-align: left;\n}\n.dashboard-container .log-wrapper .log-container .log-list > li .content {\n          color: #999BA3;\n          font-size: 12px;\n          text-align: left;\n          text-indent: initial;\n}\n.dashboard-container .log-wrapper .log-extend {\n      height: 30px;\n      -webkit-box-align: center;\n          -ms-flex-align: center;\n              align-items: center;\n      padding: 4px 24px;\n      margin-top: 8px;\n      position: absolute;\n      bottom: 0;\n      left: 0;\n      right: 0;\n      margin: auto;\n}\n.dashboard-container .suitable-button {\n    position: absolute;\n    bottom: 32px;\n    left: 32px;\n}\n.dashboard-container .suitable-button .sutiable-button-item {\n      width: 32px;\n      height: 32px;\n      border-radius: 4px;\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-align: center;\n          -ms-flex-align: center;\n              align-items: center;\n      -webkit-box-pack: center;\n          -ms-flex-pack: center;\n              justify-content: center;\n      background-color: #F8F8FA;\n      margin-bottom: 12px;\n      color: #BBBBC8;\n}\n.dashboard-container .suitable-button .sutiable-button-item:hover {\n        background-color: #494ece;\n        color: #fff;\n}\n.dashboard-container .dialog-main-content {\n    font-family: 'Lato';\n    font-size: 18px;\n    color: #534c77;\n    text-align: center;\n    font-weight: bold;\n    margin-bottom: 25px;\n}\n.dashboard-container .dialog-sub-content {\n    font-family: 'Lato';\n    font-size: 12px;\n    color: #bbbbc8;\n    text-align: center;\n}\n.dashboard-container .dialog-button {\n    width: 135px;\n    height: 32px;\n    border-radius: 2px;\n    border: 0px;\n    font-family: 'Lato';\n    font-weight: bold;\n    font-size: 12px;\n    text-align: center;\n    cursor: pointer;\n    outline: none;\n}\n.dashboard-container .dialog-check-button {\n    color: #ffffff;\n    background-color: #494ece;\n}\n.dashboard-container .dialog-click-button {\n    color: #ffffff;\n    background-color: #3135a6;\n}\n.dashboard-container .dialog-uncheck-button {\n    color: #7f7d8e;\n    background-color: #e8e8ef;\n}\n.toolContent {\n  display: inline-block;\n  width: 100%;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  color: #4159d1;\n}\n",""])},"y+41":function(t,e,n){var i=n("QzUs");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("2f5ea226",i,!0,{})}}]);