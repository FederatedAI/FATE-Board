(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-63ab"],{"0AK2":function(t,n,e){var i=e("swvD");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,e("SZ7m").default)("0e6a79b2",i,!0,{})},QAWV:function(t,n,e){"use strict";var i=e("Wsly");e.n(i).a},Wsly:function(t,n,e){var i=e("Yuvi");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,e("SZ7m").default)("d8e3177a",i,!0,{})},Yuvi:function(t,n,e){(t.exports=e("I1BE")(!1)).push([t.i,".text-error[data-v-7ec3019c] {\n  color: red;\n}\n.text-warning[data-v-7ec3019c] {\n  color: red;\n}\n",""])},bdDI:function(t,n,e){"use strict";var i=e("0AK2");e.n(i).a},"gDS+":function(t,n,e){t.exports={default:e("oh+g"),__esModule:!0}},goS2:function(t,n,e){"use strict";e.r(n);var i=e("gDS+"),s=e.n(i),a=e("QbLZ"),r=e.n(a),o={name:"LoginHint",props:{type:{type:String,default:"error"},text:{type:String,default:""}},data:function(){return{}},methods:{}},c=(e("QAWV"),e("KHd+")),l=Object(c.a)(o,function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("section",[t.text?t._t("prefix"):t._e(),t._v(" "),t.text?e("span",{class:"text-"+t.type},[t._v(t._s(t.text))]):t._e(),t._v(" "),t.text?t._t("suffix"):t._e()],2)},[],!1,null,"7ec3019c",null);l.options.__file="hint.vue";var u=l.exports,p=e("L2JU");var h={name:"Login",components:{Hint:u},props:{},data:function(){return{hintType:"error",hintMsg:"",username:"",selectable:null,usernameHint:!1,password:"",inputType:"password",passwordHint:!1,willCache:!0,btnType:"primary",btnDisable:!1,checkedLogin:function(t){var n=localStorage.getItem("CurrentUser");n&&(t.$store.user.state.username||t.$store.dispatch("setInfo",n),t.$router.push({name:"RUNNING"}))}.bind(null,this)}},beforeMount:function(){window.addEventListener("storage",this.checkedLogin),this.$store.dispatch("removeInfo")},beforeDestroy:function(){window.removeEventListener("storage",this.checkedLogin)},methods:r()({},Object(p.b)({login:"Login"}),{queryValue:function(t,n){n(this.getAccount().filter(function(n){return!t||n.username.match(t)}))},handleSelector:function(t){this.username=t.username,this.password=t.password},getAccount:function(){return this.selectable||(this.selectable=JSON.parse(localStorage.getItem("AccountCache"))||[]),this.selectable},setAccount:function(){var t={username:this.username,password:this.password,passwordSec:new Array(this.password.length).fill("*").join("")};this.selectable||(this.selectable=[]);var n=this.selectable.findIndex(function(n){return n.username===t.username});n<0?this.selectable.push(t):this.selectable[n]=t,localStorage.setItem("AccountCache",s()(this.selectable))},signIn:function(){var t=this;if(!this.username)return this.errorHint("username should not be empty"),this.usernameHint=!0,!1;if(!this.password)return this.errorHint("password should not be empty"),this.passwordHint=!0,!1;var n=function(n){n?(t.willCache&&t.setAccount(),t.$router.push({name:"RUNNINNG"})):(t.errorHint("Incorrect username or password"),t.usernameHint=!0,t.passwordHint=!0)};this.login({username:this.username,password:this.password}).then(function(t){n(!0)}).catch(function(){n(!1)})},errorHint:function(t,n){this.hintType=n||"warning",this.hintMsg=t},errorHintHide:function(){this.hintMsg="",this.usernameHint=!1,this.passwordHint=!1},exchangeType:function(){"text"===this.inputType?this.inputType="password":this.inputType="text"}})},d=(e("bdDI"),Object(c.a)(h,function(){var t,n,e,i=this,s=i.$createElement,a=i._self._c||s;return a("div",{staticClass:"app-container login-container flex flex-col flex-center"},[a("span",{staticClass:"title"},[i._v("Welcome to FATEBoard")]),i._v(" "),a("hint",{staticClass:"hint",class:(t={},t["hint_"+i.hintType]=!!i.hintMsg,t),attrs:{type:i.hintType,text:i.hintMsg}},[a("i",{class:"el-icon-"+i.hintType,attrs:{slot:"prefix"},slot:"prefix"})]),i._v(" "),a("el-autocomplete",{staticClass:"input",class:(n={},n["input_"+i.hintType]=i.usernameHint,n),attrs:{"fetch-suggestions":i.queryValue,size:"mini",placeholder:"Username/Email/Phone"},on:{select:i.handleSelector,input:i.errorHintHide},scopedSlots:i._u([{key:"default",fn:function(t){var n=t.item;return[a("div",{staticClass:"name"},[i._v(i._s(n.username))]),i._v(" "),a("span",{staticClass:"addr"},[i._v(i._s(n.passwordSec))])]}}]),model:{value:i.username,callback:function(t){i.username=t},expression:"username"}}),i._v(" "),a("el-input",{staticClass:"input",class:(e={},e["input_"+i.hintType]=i.passwordHint,e),attrs:{type:i.inputType,placeholder:"password",size:"mini"},on:{input:i.errorHintHide},model:{value:i.password,callback:function(t){i.password=t},expression:"password"}},[a("i",{class:{"el-icon-star-on":"text"!==i.inputType,"el-icon-star-off":"text"===i.inputType,"el-input__icon":!0},attrs:{slot:"suffix"},on:{click:i.exchangeType},slot:"suffix"})]),i._v(" "),a("el-checkbox",{staticClass:"checked",model:{value:i.willCache,callback:function(t){i.willCache=t},expression:"willCache"}},[i._v("remember me")]),i._v(" "),a("el-button",{staticClass:"btn",attrs:{type:i.btnType,disabled:i.btnDisable,size:"mini"},on:{click:i.signIn}},[i._v("Sign in")])],1)},[],!1,null,"1759fb81",null));d.options.__file="index.vue";n.default=d.exports},"oh+g":function(t,n,e){var i=e("WEpk"),s=i.JSON||(i.JSON={stringify:JSON.stringify});t.exports=function(t){return s.stringify.apply(s,arguments)}},swvD:function(t,n,e){(t.exports=e("I1BE")(!1)).push([t.i,".login-container[data-v-1759fb81] {\n  height: 100%;\n  margin-top: 24px;\n}\n.login-container .title[data-v-1759fb81] {\n    background: linear-gradient(159deg, #5e7feb 0%, #0ec7a5 100%);\n    -webkit-background-clip: text;\n    -webkit-text-fill-color: transparent;\n    font-size: 50px;\n    margin-top: 10%;\n}\n.login-container .hint[data-v-1759fb81] {\n    min-height: 20px;\n    margin-top: 30px;\n}\n.login-container .hint i[data-v-1759fb81] {\n      height: 100%;\n      margin-right: 12px;\n}\n.login-container .hint_error i[data-v-1759fb81] {\n    color: #ff4f38 !important;\n}\n.login-container .hint_warning i[data-v-1759fb81] {\n    color: #ff4f38 !important;\n}\n.login-container .input[data-v-1759fb81] {\n    width: 30%;\n    min-width: 300px;\n    margin-top: 24px;\n}\n.login-container .input_error input[data-v-1759fb81] {\n    border-color: #ffd1cb !important;\n}\n.login-container .input_warning input[data-v-1759fb81] {\n    border-color: #ffd1cb !important;\n}\n.login-container .checked[data-v-1759fb81] {\n    margin-top: 24px;\n}\n.login-container .btn[data-v-1759fb81] {\n    margin-top: 48px;\n}\n",""])}}]);